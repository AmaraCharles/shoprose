(self.webpackChunkcheckout_web=self.webpackChunkcheckout_web||[]).push([[400],{84368:(e,t,n)=>{n(30381),n(28360),function(){if("undefined"!=typeof document&&!("adoptedStyleSheets"in document)){var e="ShadyCSS"in window&&!ShadyCSS.nativeShadow,t=document.implementation.createHTMLDocument(""),n=new WeakMap,o="object"==typeof DOMException?Error:DOMException,r=Object.defineProperty,i=Array.prototype.forEach,a=/@import.+?;?$/gm,s=CSSStyleSheet.prototype;s.replace=function(){return Promise.reject(new o("Can't call replace on non-constructed CSSStyleSheets."))},s.replaceSync=function(){throw new o("Failed to execute 'replaceSync' on 'CSSStyleSheet': Can't call replaceSync on non-constructed CSSStyleSheets.")};var c=new WeakMap,l=new WeakMap,u=new WeakMap,d=new WeakMap,p=C.prototype;p.replace=function(e){try{return this.replaceSync(e),Promise.resolve(this)}catch(t){return Promise.reject(t)}},p.replaceSync=function(e){if(T(this),"string"==typeof e){var t=this;c.get(t).textContent=function(e){var t=e.replace(a,"");return t!==e&&console.warn("@import rules are not allowed here. See https://github.com/WICG/construct-stylesheets/issues/119#issuecomment-588352418"),t.trim()}(e),d.set(t,[]),l.get(t).forEach((function(e){e.isConnected()&&S(t,_(t,e))}))}},r(p,"cssRules",{configurable:!0,enumerable:!0,get:function(){return T(this),c.get(this).sheet.cssRules}}),r(p,"media",{configurable:!0,enumerable:!0,get:function(){return T(this),c.get(this).sheet.media}}),["addRule","deleteRule","insertRule","removeRule"].forEach((function(e){p[e]=function(){var t=this;T(t);var n=arguments;d.get(t).push({method:e,args:n}),l.get(t).forEach((function(o){if(o.isConnected()){var r=_(t,o).sheet;r[e].apply(r,n)}}));var o=c.get(t).sheet;return o[e].apply(o,n)}})),r(C,Symbol.hasInstance,{configurable:!0,value:k});var h={childList:!0,subtree:!0},f=new WeakMap,m=new WeakMap,g=new WeakMap,y=new WeakMap;if(D.prototype={isConnected:function(){var e=m.get(this);return e instanceof Document?"loading"!==e.readyState:function(e){return"isConnected"in e?e.isConnected:document.contains(e)}(e.host)},connect:function(){var e=A(this);y.get(this).observe(e,h),g.get(this).length>0&&R(this),I(e,(function(e){P(e).connect()}))},disconnect:function(){y.get(this).disconnect()},update:function(e){var t=this,n=m.get(t)===document?"Document":"ShadowRoot";if(!Array.isArray(e))throw new TypeError("Failed to set the 'adoptedStyleSheets' property on "+n+": Iterator getter is not callable.");if(!e.every(k))throw new TypeError("Failed to set the 'adoptedStyleSheets' property on "+n+": Failed to convert value to 'CSSStyleSheet'");if(e.some(E))throw new TypeError("Failed to set the 'adoptedStyleSheets' property on "+n+": Can't adopt non-constructed stylesheets");t.sheets=e;var o,r,i=g.get(t),a=(o=e).filter((function(e,t){return o.indexOf(e)===t}));(r=a,i.filter((function(e){return-1===r.indexOf(e)}))).forEach((function(e){var n;(n=_(e,t)).parentNode.removeChild(n),function(e,t){u.get(e).delete(t),l.set(e,l.get(e).filter((function(e){return e!==t})))}(e,t)})),g.set(t,a),t.isConnected()&&a.length>0&&R(t)}},window.CSSStyleSheet=C,M(Document),"ShadowRoot"in window){M(ShadowRoot);var w=Element.prototype,b=w.attachShadow;w.attachShadow=function(e){var t=b.call(this,e);return"closed"===e.mode&&n.set(this,t),t}}var v=P(document);v.isConnected()?v.connect():document.addEventListener("DOMContentLoaded",v.connect.bind(v))}function x(e){return e.shadowRoot||n.get(e)}function k(e){return"object"==typeof e&&(p.isPrototypeOf(e)||s.isPrototypeOf(e))}function E(e){return"object"==typeof e&&s.isPrototypeOf(e)}function _(e,t){return u.get(e).get(t)}function S(e,t){requestAnimationFrame((function(){t.textContent=c.get(e).textContent,d.get(e).forEach((function(e){return t.sheet[e.method].apply(t.sheet,e.args)}))}))}function T(e){if(!c.has(e))throw new TypeError("Illegal invocation")}function C(){var e=this,n=document.createElement("style");t.body.appendChild(n),c.set(e,n),l.set(e,[]),u.set(e,new WeakMap),d.set(e,[])}function P(e){var t=f.get(e);return t||(t=new D(e),f.set(e,t)),t}function M(e){r(e.prototype,"adoptedStyleSheets",{configurable:!0,enumerable:!0,get:function(){return P(this).sheets},set:function(e){P(this).update(e)}})}function I(e,t){for(var n=document.createNodeIterator(e,NodeFilter.SHOW_ELEMENT,(function(e){return x(e)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}),null,!1),o=void 0;o=n.nextNode();)t(x(o))}function A(e){var t=m.get(e);return t instanceof Document?t.body:t}function R(e){var t=document.createDocumentFragment(),n=g.get(e),o=y.get(e),r=A(e);o.disconnect(),n.forEach((function(n){t.appendChild(_(n,e)||function(e,t){var n=document.createElement("style");return u.get(e).set(t,n),l.get(e).push(t),n}(n,e))})),r.insertBefore(t,null),o.observe(r,h),n.forEach((function(t){S(t,_(t,e))}))}function D(t){var n=this;n.sheets=[],m.set(n,t),g.set(n,[]),y.set(n,new MutationObserver((function(t,o){document?t.forEach((function(t){e||i.call(t.addedNodes,(function(e){e instanceof Element&&I(e,(function(e){P(e).connect()}))})),i.call(t.removedNodes,(function(t){t instanceof Element&&(function(e,t){return t instanceof HTMLStyleElement&&g.get(e).some((function(t){return _(t,e)}))}(n,t)&&R(n),e||I(t,(function(e){P(e).disconnect()})))}))})):o.disconnect()})))}}()},70400:(e,t,n)=>{"use strict";n.d(t,{r:()=>Gt});var o=n(18604),r=n(21793),i=n(60941),a=n(3061);const s={devMode:!1,flow:"phoneAuth",sessionDetected:!1};function c(e,t){switch(t.type){case"initialize":{const{personalizeConsentChallenge:n,userFound:o}=t.payload;return n?{...e,sessionDetected:o,step:"personalizeConsent"}:{...e,sessionDetected:o,step:o?"oneClick":"start"}}case"popup":return{...e,step:"popUpOpened"};case"restart":return{...e,sessionDetected:!1,step:"start"};case"setFlow":return{...e,flow:t.payload};case"setUserMatched":{const{matched:n,personalizeConsentChallenge:o,userCookieExists:r}=t.payload;return void 0!==n&&!1===n?{...e,step:"signup"}:o?{...e,sessionDetected:Boolean(r),step:"personalizeConsent"}:r?{...e,step:"oneClick",sessionDetected:!0}:{...e,sessionDetected:!1}}default:return e}}const l={dispatch:()=>{throw new Error("Invalid attempt to call dispatch outside of Authorize context.")},state:s},u=(0,a.q6)(l),d=(0,a.q6)({client:void 0,leaveBreadcrumb:()=>{throw new Error("Invalid attempt to call leaveBreadcrumb outside of context.")},notify:()=>{throw new Error("Invalid attempt to call notify outside of context.")}}),p=()=>{const e=(0,r.NT)(d);if(!e)throw new Error("Invalid attempt to use useBugsnag outside of BugsnagProvider.");return e},h=["en","bg-BG","cs","da","de","el","es","fi","fr","hi","hr-HR","hu","id","it","ja","ko","lt-LT","ms","nb","nl","pl","pt-BR","pt-PT","ro-RO","ru","sk-SK","sl-SI","sv","th","tr","vi","zh-CN","zh-TW"],f=(0,a.q6)({locale:"en",translations:void 0}),m=()=>(0,r.NT)(f),g={analyticsData:{},getTrekkieAttributes:async()=>Promise.resolve({}),produceMonorailEvent:()=>{throw new Error("Invalid attempt to call produceMonorailEvent outside of context.")},trackPageImpression:async()=>{throw new Error("Invalid attempt to call trackPageImpression outside of context.")},trackUserAction:()=>{throw new Error("Invalid attempt to call trackUserAction outside of context.")}},y=(0,a.q6)(g),w=()=>(0,r.NT)(y),b={recordCounter:()=>{throw new Error("Invalid attempt to call recordCounter outside of context.")},recordGauge:()=>{throw new Error("Invalid attempt to call recordGauge outside of context.")},recordHistogram:()=>{throw new Error("Invalid attempt to call recordHistogram outside of context.")},client:void 0},v=(0,a.q6)(b),x=()=>(0,r.NT)(v),k="undefined"==typeof window?{addEventListener:()=>{},analytics:{},btoa:()=>"",clearTimeout:()=>{},customElements:{},devicePixelRatio:1,getComputedStyle:e=>({}),location:{assign:()=>{},hostname:"",href:"",origin:"",pathname:"",search:""},matchMedia:()=>({matches:!1}),open:()=>{},PublicKeyCredential:{isConditionalMediationAvailable:()=>Promise.resolve(!1)},removeEventListener:()=>{},screen:{orientation:{type:""}},scrollTo:()=>{},setTimeout:()=>0,Shopify:{},ShopifyAnalytics:{},trekkie:{}}:window,E=e=>{if(void 0!==e)return!1===e?"false":"true"},_=({analyticsContext:e,analyticsTraceId:t,apiKey:n,avoidSdkSession:o,checkoutRedirectUrl:r,checkoutToken:i,checkoutVersion:a,consentChallenge:s,disableSignUp:c,emailVerificationRequired:l,flow:u,flowVersion:d,isFullView:p,locale:h,modalCustomized:f,oauthParams:m,popupWindowParams:g,requireVerification:y,transactionParams:w})=>{const b=void 0===c?void 0:!1===c,v={analytics_context:e,analytics_trace_id:t,avoid_sdk_session:E(o),compact_layout:"true",api_key:n,checkout_redirect_url:r,checkout_token:i,checkout_version:a,consent_challenge:E(s),"customize-modal":E(f),email_verification_required:E(l),flow:u?u.toString():void 0,flow_version:d,full_view:E(p),locale:h,require_verification:E(y),sign_up_enabled:E(b),target_origin:k.location.origin,transaction_params:w},{clientId:x,codeChallenge:_,codeChallengeMethod:S,redirectType:T,redirectUri:C=k.location.origin,responseMode:P="web_message",responseType:M="id_token",scope:I="openid email",state:A}=m||{},{popUpName:R,popUpFeatures:D}=g||{};return v.client_id=x,v.code_challenge=_,v.code_challenge_method=S,v.pop_up_features="pop_up"===T?D:void 0,v.pop_up_name="pop_up"===T?R:void 0,v.redirect_type=T,v.redirect_uri=C,v.response_mode=P,v.response_type=M,v.scope=I,v.state=A,Object.keys(v).forEach((e=>void 0===v[e]&&delete v[e])),new URLSearchParams(v)},S=k.location.origin,T="https://shop.app",C="https://pay.shopify.com",P=(0,a.q6)({devMode:!1,element:null,instanceId:""}),M=()=>(0,r.NT)(P);function I(){const{notify:e}=p(),{element:t}=M();return(0,r.hb)(((n,o)=>{t?t.dispatchEvent(new CustomEvent(n,{bubbles:!1,cancelable:!1,composed:!0,detail:o})):e(new Error("dispatchEvent called without a reference to the custom element."))}),[t,e])}var A=n(40904);class R extends Error{constructor(e,t,n=(0,A.A)()){super(e),this.name=t,this.analyticsTraceId=n;const o=t.replace(/[A-Z]/g,(e=>`_${e.toLowerCase()}`)).replace(/^_/,"");this.analyticsTraceId=n,this.code=o,this.name=t}}function D(e){return!("string"!=typeof e||!e)&&RegExp(/^[^@]+@[^@]+\.[^@]{2,}$/i).test(e)}const L="undefined"==typeof document?{body:{},cookie:"",createElement:()=>{},createTextNode:()=>{},documentElement:{lang:"",style:{overflow:"",removeProperty:()=>{}}},getElementById:()=>null,head:{appendChild:()=>{}},querySelector:()=>{},querySelectorAll:()=>[]}:document;n(30381);const O=Math.min,j=Math.max,N=Math.round,z=Math.floor,U=e=>({x:e,y:e}),F={left:"right",right:"left",bottom:"top",top:"bottom"},V={start:"end",end:"start"};function Y(e,t,n){return j(e,O(t,n))}function J(e,t){return"function"==typeof e?e(t):e}function W(e){return e.split("-")[0]}function q(e){return e.split("-")[1]}function B(e){return"x"===e?"y":"x"}function K(e){return"y"===e?"height":"width"}function $(e){return["top","bottom"].includes(W(e))?"y":"x"}function H(e){return B($(e))}function X(e){return e.replace(/start|end/g,(e=>V[e]))}function Z(e){return e.replace(/left|right|bottom|top/g,(e=>F[e]))}function G(e){return"number"!=typeof e?function(e){return{top:0,right:0,bottom:0,left:0,...e}}(e):{top:e,right:e,bottom:e,left:e}}function Q(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}function ee(e,t,n){let{reference:o,floating:r}=e;const i=$(t),a=H(t),s=K(a),c=W(t),l="y"===i,u=o.x+o.width/2-r.width/2,d=o.y+o.height/2-r.height/2,p=o[s]/2-r[s]/2;let h;switch(c){case"top":h={x:u,y:o.y-r.height};break;case"bottom":h={x:u,y:o.y+o.height};break;case"right":h={x:o.x+o.width,y:d};break;case"left":h={x:o.x-r.width,y:d};break;default:h={x:o.x,y:o.y}}switch(q(t)){case"start":h[a]-=p*(n&&l?-1:1);break;case"end":h[a]+=p*(n&&l?-1:1)}return h}async function te(e,t){var n;void 0===t&&(t={});const{x:o,y:r,platform:i,rects:a,elements:s,strategy:c}=e,{boundary:l="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:p=!1,padding:h=0}=J(t,e),f=G(h),m=s[p?"floating"===d?"reference":"floating":d],g=Q(await i.getClippingRect({element:null==(n=await(null==i.isElement?void 0:i.isElement(m)))||n?m:m.contextElement||await(null==i.getDocumentElement?void 0:i.getDocumentElement(s.floating)),boundary:l,rootBoundary:u,strategy:c})),y="floating"===d?{...a.floating,x:o,y:r}:a.reference,w=await(null==i.getOffsetParent?void 0:i.getOffsetParent(s.floating)),b=await(null==i.isElement?void 0:i.isElement(w))&&await(null==i.getScale?void 0:i.getScale(w))||{x:1,y:1},v=Q(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:s,rect:y,offsetParent:w,strategy:c}):y);return{top:(g.top-v.top+f.top)/b.y,bottom:(v.bottom-g.bottom+f.bottom)/b.y,left:(g.left-v.left+f.left)/b.x,right:(v.right-g.right+f.right)/b.x}}function ne(e){return ie(e)?(e.nodeName||"").toLowerCase():"#document"}function oe(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function re(e){var t;return null==(t=(ie(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function ie(e){return e instanceof Node||e instanceof oe(e).Node}function ae(e){return e instanceof Element||e instanceof oe(e).Element}function se(e){return e instanceof HTMLElement||e instanceof oe(e).HTMLElement}function ce(e){return"undefined"!=typeof ShadowRoot&&(e instanceof ShadowRoot||e instanceof oe(e).ShadowRoot)}function le(e){const{overflow:t,overflowX:n,overflowY:o,display:r}=fe(e);return/auto|scroll|overlay|hidden|clip/.test(t+o+n)&&!["inline","contents"].includes(r)}function ue(e){return["table","td","th"].includes(ne(e))}function de(e){const t=pe(),n=fe(e);return"none"!==n.transform||"none"!==n.perspective||!!n.containerType&&"normal"!==n.containerType||!t&&!!n.backdropFilter&&"none"!==n.backdropFilter||!t&&!!n.filter&&"none"!==n.filter||["transform","perspective","filter"].some((e=>(n.willChange||"").includes(e)))||["paint","layout","strict","content"].some((e=>(n.contain||"").includes(e)))}function pe(){return!("undefined"==typeof CSS||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}function he(e){return["html","body","#document"].includes(ne(e))}function fe(e){return oe(e).getComputedStyle(e)}function me(e){return ae(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function ge(e){if("html"===ne(e))return e;const t=e.assignedSlot||e.parentNode||ce(e)&&e.host||re(e);return ce(t)?t.host:t}function ye(e){const t=ge(e);return he(t)?e.ownerDocument?e.ownerDocument.body:e.body:se(t)&&le(t)?t:ye(t)}function we(e,t,n){var o;void 0===t&&(t=[]),void 0===n&&(n=!0);const r=ye(e),i=r===(null==(o=e.ownerDocument)?void 0:o.body),a=oe(r);return i?t.concat(a,a.visualViewport||[],le(r)?r:[],a.frameElement&&n?we(a.frameElement):[]):t.concat(r,we(r,[],n))}function be(e){const t=fe(e);let n=parseFloat(t.width)||0,o=parseFloat(t.height)||0;const r=se(e),i=r?e.offsetWidth:n,a=r?e.offsetHeight:o,s=N(n)!==i||N(o)!==a;return s&&(n=i,o=a),{width:n,height:o,$:s}}function ve(e){return ae(e)?e:e.contextElement}function xe(e){const t=ve(e);if(!se(t))return U(1);const n=t.getBoundingClientRect(),{width:o,height:r,$:i}=be(t);let a=(i?N(n.width):n.width)/o,s=(i?N(n.height):n.height)/r;return a&&Number.isFinite(a)||(a=1),s&&Number.isFinite(s)||(s=1),{x:a,y:s}}const ke=U(0);function Ee(e){const t=oe(e);return pe()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:ke}function _e(e,t,n,o){void 0===t&&(t=!1),void 0===n&&(n=!1);const r=e.getBoundingClientRect(),i=ve(e);let a=U(1);t&&(o?ae(o)&&(a=xe(o)):a=xe(e));const s=function(e,t,n){return void 0===t&&(t=!1),!(!n||t&&n!==oe(e))&&t}(i,n,o)?Ee(i):U(0);let c=(r.left+s.x)/a.x,l=(r.top+s.y)/a.y,u=r.width/a.x,d=r.height/a.y;if(i){const e=oe(i),t=o&&ae(o)?oe(o):o;let n=e,r=n.frameElement;for(;r&&o&&t!==n;){const e=xe(r),t=r.getBoundingClientRect(),o=fe(r),i=t.left+(r.clientLeft+parseFloat(o.paddingLeft))*e.x,a=t.top+(r.clientTop+parseFloat(o.paddingTop))*e.y;c*=e.x,l*=e.y,u*=e.x,d*=e.y,c+=i,l+=a,n=oe(r),r=n.frameElement}}return Q({width:u,height:d,x:c,y:l})}const Se=[":popover-open",":modal"];function Te(e){return Se.some((t=>{try{return e.matches(t)}catch(n){return!1}}))}function Ce(e){return _e(re(e)).left+me(e).scrollLeft}function Pe(e,t,n){let o;if("viewport"===t)o=function(e,t){const n=oe(e),o=re(e),r=n.visualViewport;let i=o.clientWidth,a=o.clientHeight,s=0,c=0;if(r){i=r.width,a=r.height;const e=pe();(!e||e&&"fixed"===t)&&(s=r.offsetLeft,c=r.offsetTop)}return{width:i,height:a,x:s,y:c}}(e,n);else if("document"===t)o=function(e){const t=re(e),n=me(e),o=e.ownerDocument.body,r=j(t.scrollWidth,t.clientWidth,o.scrollWidth,o.clientWidth),i=j(t.scrollHeight,t.clientHeight,o.scrollHeight,o.clientHeight);let a=-n.scrollLeft+Ce(e);const s=-n.scrollTop;return"rtl"===fe(o).direction&&(a+=j(t.clientWidth,o.clientWidth)-r),{width:r,height:i,x:a,y:s}}(re(e));else if(ae(t))o=function(e,t){const n=_e(e,!0,"fixed"===t),o=n.top+e.clientTop,r=n.left+e.clientLeft,i=se(e)?xe(e):U(1);return{width:e.clientWidth*i.x,height:e.clientHeight*i.y,x:r*i.x,y:o*i.y}}(t,n);else{const n=Ee(e);o={...t,x:t.x-n.x,y:t.y-n.y}}return Q(o)}function Me(e,t){const n=ge(e);return!(n===t||!ae(n)||he(n))&&("fixed"===fe(n).position||Me(n,t))}function Ie(e,t,n){const o=se(t),r=re(t),i="fixed"===n,a=_e(e,!0,i,t);let s={scrollLeft:0,scrollTop:0};const c=U(0);if(o||!o&&!i)if(("body"!==ne(t)||le(r))&&(s=me(t)),o){const e=_e(t,!0,i,t);c.x=e.x+t.clientLeft,c.y=e.y+t.clientTop}else r&&(c.x=Ce(r));return{x:a.left+s.scrollLeft-c.x,y:a.top+s.scrollTop-c.y,width:a.width,height:a.height}}function Ae(e){return"static"===fe(e).position}function Re(e,t){return se(e)&&"fixed"!==fe(e).position?t?t(e):e.offsetParent:null}function De(e,t){const n=oe(e);if(Te(e))return n;if(!se(e)){let t=ge(e);for(;t&&!he(t);){if(ae(t)&&!Ae(t))return t;t=ge(t)}return n}let o=Re(e,t);for(;o&&ue(o)&&Ae(o);)o=Re(o,t);return o&&he(o)&&Ae(o)&&!de(o)?n:o||function(e){let t=ge(e);for(;se(t)&&!he(t);){if(de(t))return t;t=ge(t)}return null}(e)||n}const Le={convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{elements:t,rect:n,offsetParent:o,strategy:r}=e;const i="fixed"===r,a=re(o),s=!!t&&Te(t.floating);if(o===a||s&&i)return n;let c={scrollLeft:0,scrollTop:0},l=U(1);const u=U(0),d=se(o);if((d||!d&&!i)&&(("body"!==ne(o)||le(a))&&(c=me(o)),se(o))){const e=_e(o);l=xe(o),u.x=e.x+o.clientLeft,u.y=e.y+o.clientTop}return{width:n.width*l.x,height:n.height*l.y,x:n.x*l.x-c.scrollLeft*l.x+u.x,y:n.y*l.y-c.scrollTop*l.y+u.y}},getDocumentElement:re,getClippingRect:function(e){let{element:t,boundary:n,rootBoundary:o,strategy:r}=e;const i=[..."clippingAncestors"===n?Te(t)?[]:function(e,t){const n=t.get(e);if(n)return n;let o=we(e,[],!1).filter((e=>ae(e)&&"body"!==ne(e))),r=null;const i="fixed"===fe(e).position;let a=i?ge(e):e;for(;ae(a)&&!he(a);){const t=fe(a),n=de(a);n||"fixed"!==t.position||(r=null),(i?!n&&!r:!n&&"static"===t.position&&r&&["absolute","fixed"].includes(r.position)||le(a)&&!n&&Me(e,a))?o=o.filter((e=>e!==a)):r=t,a=ge(a)}return t.set(e,o),o}(t,this._c):[].concat(n),o],a=i[0],s=i.reduce(((e,n)=>{const o=Pe(t,n,r);return e.top=j(o.top,e.top),e.right=O(o.right,e.right),e.bottom=O(o.bottom,e.bottom),e.left=j(o.left,e.left),e}),Pe(t,a,r));return{width:s.right-s.left,height:s.bottom-s.top,x:s.left,y:s.top}},getOffsetParent:De,getElementRects:async function(e){const t=this.getOffsetParent||De,n=this.getDimensions,o=await n(e.floating);return{reference:Ie(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:o.width,height:o.height}}},getClientRects:function(e){return Array.from(e.getClientRects())},getDimensions:function(e){const{width:t,height:n}=be(e);return{width:t,height:n}},getScale:xe,isElement:ae,isRTL:function(e){return"rtl"===fe(e).direction}};function Oe(e,t,n,o){void 0===o&&(o={});const{ancestorScroll:r=!0,ancestorResize:i=!0,elementResize:a="function"==typeof ResizeObserver,layoutShift:s="function"==typeof IntersectionObserver,animationFrame:c=!1}=o,l=ve(e),u=r||i?[...l?we(l):[],...we(t)]:[];u.forEach((e=>{r&&e.addEventListener("scroll",n,{passive:!0}),i&&e.addEventListener("resize",n)}));const d=l&&s?function(e,t){let n,o=null;const r=re(e);function i(){var e;clearTimeout(n),null==(e=o)||e.disconnect(),o=null}return function a(s,c){void 0===s&&(s=!1),void 0===c&&(c=1),i();const{left:l,top:u,width:d,height:p}=e.getBoundingClientRect();if(s||t(),!d||!p)return;const h={rootMargin:-z(u)+"px "+-z(r.clientWidth-(l+d))+"px "+-z(r.clientHeight-(u+p))+"px "+-z(l)+"px",threshold:j(0,O(1,c))||1};let f=!0;function m(e){const t=e[0].intersectionRatio;if(t!==c){if(!f)return a();t?a(!1,t):n=setTimeout((()=>{a(!1,1e-7)}),1e3)}f=!1}try{o=new IntersectionObserver(m,{...h,root:r.ownerDocument})}catch(g){o=new IntersectionObserver(m,h)}o.observe(e)}(!0),i}(l,n):null;let p,h=-1,f=null;a&&(f=new ResizeObserver((e=>{let[o]=e;o&&o.target===l&&f&&(f.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame((()=>{var e;null==(e=f)||e.observe(t)}))),n()})),l&&!c&&f.observe(l),f.observe(t));let m=c?_e(e):null;return c&&function t(){const o=_e(e);!m||o.x===m.x&&o.y===m.y&&o.width===m.width&&o.height===m.height||n(),m=o,p=requestAnimationFrame(t)}(),n(),()=>{var e;u.forEach((e=>{r&&e.removeEventListener("scroll",n),i&&e.removeEventListener("resize",n)})),null==d||d(),null==(e=f)||e.disconnect(),f=null,c&&cancelAnimationFrame(p)}}const je=function(e){return void 0===e&&(e=0),{name:"offset",options:e,async fn(t){var n,o;const{x:r,y:i,placement:a,middlewareData:s}=t,c=await async function(e,t){const{placement:n,platform:o,elements:r}=e,i=await(null==o.isRTL?void 0:o.isRTL(r.floating)),a=W(n),s=q(n),c="y"===$(n),l=["left","top"].includes(a)?-1:1,u=i&&c?-1:1,d=J(t,e);let{mainAxis:p,crossAxis:h,alignmentAxis:f}="number"==typeof d?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...d};return s&&"number"==typeof f&&(h="end"===s?-1*f:f),c?{x:h*u,y:p*l}:{x:p*l,y:h*u}}(t,e);return a===(null==(n=s.offset)?void 0:n.placement)&&null!=(o=s.arrow)&&o.alignmentOffset?{}:{x:r+c.x,y:i+c.y,data:{...c,placement:a}}}}},Ne=function(e){return void 0===e&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:o,placement:r}=t,{mainAxis:i=!0,crossAxis:a=!1,limiter:s={fn:e=>{let{x:t,y:n}=e;return{x:t,y:n}}},...c}=J(e,t),l={x:n,y:o},u=await te(t,c),d=$(W(r)),p=B(d);let h=l[p],f=l[d];if(i){const e="y"===p?"bottom":"right";h=Y(h+u["y"===p?"top":"left"],h,h-u[e])}if(a){const e="y"===d?"bottom":"right";f=Y(f+u["y"===d?"top":"left"],f,f-u[e])}const m=s.fn({...t,[p]:h,[d]:f});return{...m,data:{x:m.x-n,y:m.y-o}}}}},ze=function(e){return void 0===e&&(e={}),{name:"flip",options:e,async fn(t){var n,o;const{placement:r,middlewareData:i,rects:a,initialPlacement:s,platform:c,elements:l}=t,{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:p,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:f="none",flipAlignment:m=!0,...g}=J(e,t);if(null!=(n=i.arrow)&&n.alignmentOffset)return{};const y=W(r),w=W(s)===s,b=await(null==c.isRTL?void 0:c.isRTL(l.floating)),v=p||(w||!m?[Z(s)]:function(e){const t=Z(e);return[X(e),t,X(t)]}(s));p||"none"===f||v.push(...function(e,t,n,o){const r=q(e);let i=function(e,t,n){const o=["left","right"],r=["right","left"],i=["top","bottom"],a=["bottom","top"];switch(e){case"top":case"bottom":return n?t?r:o:t?o:r;case"left":case"right":return t?i:a;default:return[]}}(W(e),"start"===n,o);return r&&(i=i.map((e=>e+"-"+r)),t&&(i=i.concat(i.map(X)))),i}(s,m,f,b));const x=[s,...v],k=await te(t,g),E=[];let _=(null==(o=i.flip)?void 0:o.overflows)||[];if(u&&E.push(k[y]),d){const e=function(e,t,n){void 0===n&&(n=!1);const o=q(e),r=H(e),i=K(r);let a="x"===r?o===(n?"end":"start")?"right":"left":"start"===o?"bottom":"top";return t.reference[i]>t.floating[i]&&(a=Z(a)),[a,Z(a)]}(r,a,b);E.push(k[e[0]],k[e[1]])}if(_=[..._,{placement:r,overflows:E}],!E.every((e=>e<=0))){var S,T;const e=((null==(S=i.flip)?void 0:S.index)||0)+1,t=x[e];if(t)return{data:{index:e,overflows:_},reset:{placement:t}};let n=null==(T=_.filter((e=>e.overflows[0]<=0)).sort(((e,t)=>e.overflows[1]-t.overflows[1]))[0])?void 0:T.placement;if(!n)switch(h){case"bestFit":{var C;const e=null==(C=_.map((e=>[e.placement,e.overflows.filter((e=>e>0)).reduce(((e,t)=>e+t),0)])).sort(((e,t)=>e[1]-t[1]))[0])?void 0:C[0];e&&(n=e);break}case"initialPlacement":n=s}if(r!==n)return{reset:{placement:n}}}return{}}}},Ue=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:o,placement:r,rects:i,platform:a,elements:s,middlewareData:c}=t,{element:l,padding:u=0}=J(e,t)||{};if(null==l)return{};const d=G(u),p={x:n,y:o},h=H(r),f=K(h),m=await a.getDimensions(l),g="y"===h,y=g?"top":"left",w=g?"bottom":"right",b=g?"clientHeight":"clientWidth",v=i.reference[f]+i.reference[h]-p[h]-i.floating[f],x=p[h]-i.reference[h],k=await(null==a.getOffsetParent?void 0:a.getOffsetParent(l));let E=k?k[b]:0;E&&await(null==a.isElement?void 0:a.isElement(k))||(E=s.floating[b]||i.floating[f]);const _=v/2-x/2,S=E/2-m[f]/2-1,T=O(d[y],S),C=O(d[w],S),P=T,M=E-m[f]-C,I=E/2-m[f]/2+_,A=Y(P,I,M),R=!c.arrow&&null!=q(r)&&I!==A&&i.reference[f]/2-(I<P?T:C)-m[f]/2<0,D=R?I<P?I-P:I-M:0;return{[h]:p[h]+D,data:{[h]:A,centerOffset:I-A-D,...R&&{alignmentOffset:D}},reset:R}}}),Fe=(e,t,n)=>{const o=new Map,r={platform:Le,...n},i={...r.platform,_c:o};return(async(e,t,n)=>{const{placement:o="bottom",strategy:r="absolute",middleware:i=[],platform:a}=n,s=i.filter(Boolean),c=await(null==a.isRTL?void 0:a.isRTL(t));let l=await a.getElementRects({reference:e,floating:t,strategy:r}),{x:u,y:d}=ee(l,o,c),p=o,h={},f=0;for(let m=0;m<s.length;m++){const{name:n,fn:i}=s[m],{x:g,y:y,data:w,reset:b}=await i({x:u,y:d,initialPlacement:o,placement:p,strategy:r,middlewareData:h,rects:l,platform:a,elements:{reference:e,floating:t}});u=null!=g?g:u,d=null!=y?y:d,h={...h,[n]:{...h[n],...w}},b&&f<=50&&(f++,"object"==typeof b&&(b.placement&&(p=b.placement),b.rects&&(l=!0===b.rects?await a.getElementRects({reference:e,floating:t,strategy:r}):b.rects),({x:u,y:d}=ee(l,p,c))),m=-1)}return{x:u,y:d,placement:p,strategy:r,middlewareData:h}})(e,t,{...r,platform:i})};var Ve=n(92972),Ye=n.n(Ve);function Je({className:e}){const t=Ye()("text-inherit",e);return(0,o.Y)("svg",{className:t,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 60 25",children:(0,o.Y)("path",{fill:"currentColor",d:"M7.74 11.067c-2.35-.509-3.396-.708-3.396-1.612 0-.85.708-1.274 2.125-1.274 1.246 0 2.157.544 2.828 1.609.05.082.155.11.24.066l2.644-1.334a.186.186 0 0 0 .076-.259c-1.098-1.9-3.125-2.94-5.794-2.94-3.507 0-5.686 1.727-5.686 4.47 0 2.914 2.653 3.65 5.006 4.16 2.353.509 3.403.708 3.403 1.612 0 .904-.765 1.33-2.293 1.33-1.41 0-2.457-.644-3.09-1.896a.185.185 0 0 0-.25-.082L.916 16.222a.188.188 0 0 0-.082.253c1.046 2.102 3.194 3.284 6.062 3.284 3.653 0 5.86-1.697 5.86-4.526 0-2.83-2.666-3.65-5.015-4.16v-.006ZM21.909 5.324c-1.5 0-2.824.53-3.776 1.476a.093.093 0 0 1-.158-.067V.7a.185.185 0 0 0-.187-.186H14.48a.185.185 0 0 0-.187.186v18.728c0 .105.083.187.187.187h3.308a.185.185 0 0 0 .187-.187v-8.215c0-1.586 1.217-2.803 2.859-2.803 1.641 0 2.83 1.191 2.83 2.803v8.215c0 .105.082.187.187.187h3.308a.185.185 0 0 0 .186-.187v-8.215c0-3.451-2.264-5.888-5.436-5.888ZM34.056 4.786c-1.796 0-3.478.55-4.687 1.344a.187.187 0 0 0-.06.25l1.458 2.487c.054.089.168.12.256.066a5.812 5.812 0 0 1 3.04-.834c2.887 0 5.01 2.035 5.01 4.725 0 2.292-1.7 3.99-3.853 3.99-1.755 0-2.973-1.022-2.973-2.463 0-.825.351-1.501 1.265-1.979a.183.183 0 0 0 .073-.259L32.21 9.787a.186.186 0 0 0-.224-.08c-1.844.683-3.137 2.327-3.137 4.533 0 3.338 2.66 5.829 6.369 5.829 4.333 0 7.448-3 7.448-7.302 0-4.611-3.624-7.98-8.609-7.98ZM52.342 5.295c-1.673 0-3.169.62-4.26 1.707a.092.092 0 0 1-.158-.066V5.627a.185.185 0 0 0-.186-.186h-3.223a.185.185 0 0 0-.187.186v18.7c0 .104.082.186.187.186h3.308a.185.185 0 0 0 .187-.187v-6.131c0-.083.098-.124.158-.07 1.088 1.012 2.527 1.602 4.174 1.602 3.88 0 6.907-3.138 6.907-7.216 0-4.077-3.03-7.216-6.907-7.216Zm-.626 11.265c-2.207 0-3.88-1.754-3.88-4.074s1.67-4.074 3.88-4.074 3.877 1.726 3.877 4.074c0 2.349-1.644 4.074-3.88 4.074h.003Z"})})}function We(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if("function"==typeof e&&e.toString()===t.toString())return!0;if(e&&t&&"object"==typeof e&&"object"==typeof t){if(e.constructor!==t.constructor)return!1;let n,o;const r=Object.keys(e);if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(o=n;0!=o--;)if(!We(e[o],t[o]))return!1;return!0}if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if(n=r.length,n!==Object.keys(t).length)return!1;for(o=n;0!=o--;)if(!Object.prototype.hasOwnProperty.call(t,r[o]))return!1;for(o=n;0!=o--;){const n=r[o];if(!We(e[n],t[n]))return!1}return!0}return e!=e&&t!=t}function qe(e){return(e.ownerDocument.defaultView||k).devicePixelRatio||1}function Be(e,t){const n=qe(e);return Math.round(t*n)/n}function Ke(e){const t=(0,r.li)(e);return(0,r.vJ)((()=>{t.current=e})),t}const $e={mobile:["max-width: 448px"],tablet:["min-width: 449px","max-width: 1000px","max-height: 920px"]};function He({className:e}){const t=Ye()("text-inherit",e);return(0,o.Y)("svg",{className:t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:(0,o.Y)("path",{fill:"currentColor","fill-rule":"evenodd",d:"M0 10C0 4.477 4.477 0 10 0s10 4.477 10 10-4.477 10-10 10S0 15.523 0 10Zm7.707-3.707a1 1 0 0 0-1.414 1.414L8.586 10l-2.293 2.293a1 1 0 1 0 1.414 1.414L10 11.414l2.293 2.293a1 1 0 0 0 1.414-1.414L11.414 10l2.293-2.293a1 1 0 0 0-1.414-1.414L10 8.586 7.707 6.293Z","clip-rule":"evenodd"})})}n(84368);var Xe=n(17886);const Ze="undefined"==typeof navigator?{languages:[],userAgent:"",userLanguage:""}:navigator;class Ge{constructor(e){const t=(n={beta:!0,feature:e},{apiKey:"e35d7136cee78d344ccffdbd5ca710fa",appId:"shop-js",appVersion:"1.0.30-1236-beta",metadata:{bundleLocale:"",...n},onError:e=>{const t=`${e.exceptions[0].errorClass}:${e.exceptions[0].message}`,n=k.Shopify?.featureAssets?.["shop-js"],o=Boolean(n&&Object.keys(n).length>0),r=Array.from(L.querySelectorAll('script[src*="/shop-js/"]')).map((e=>e.src));e.device={locale:Ze.userLanguage||Ze.language,userAgent:Ze.userAgent,orientation:k.screen?.orientation?.type,time:(new Date).toISOString()},e.groupingHash=t,e.metaData={...e.metaData,compactUX:!0,domain:k?.location?.hostname,shopJsUrls:r,shopJsFeatureAssetsExist:o},e.request={url:k.location.href}},releaseStage:"production"});var n,o;this.client=new Xe.qM(t),this.leaveBreadcrumb=this.leaveBreadcrumb.bind(this),this.notify=this.notify.bind(this),o=this.client,k.addEventListener("error",(e=>{const{error:t}=e;t&&function(e){const t=(0,Xe.i5)(e);return 0!==t.length&&t.some((e=>e.file?.includes("shopifycloud/shop-js")))}(t)&&o.notify(t)}))}leaveBreadcrumb(e,t,n){this.client?this.client.leaveBreadcrumb(e,t,n):console.log("Bugsnag.leaveBreadcrumb() called before client creation.")}notify(e,t){this.client?this.client.notify(e,t):console.warn("Bugsnag.notify() called before client creation.")}}const Qe=({children:e})=>{const{featureName:t}=M(),n=(0,r.Kr)((()=>{t||["development","spin"].includes("production")&&console.warn("BugsnagProvider created without a feature name.");const{client:e,leaveBreadcrumb:n,notify:o}=new Ge(t);return{client:e,leaveBreadcrumb:n,notify:o}}),[t]);return(0,o.Y)(d.Provider,{value:n,children:e})};function et(e){return h.includes(e)}const tt=[],nt=[],ot=new Map,rt=function(e,t){let n;return function(...t){clearTimeout(n),n=setTimeout((()=>e.apply(this,t)),250)}}((function(e){let t={};const n=ot.get(e);nt.forEach((e=>{t={...t,...e}})),ot.set(e,{...n,...t}),tt.forEach((e=>e())),tt.splice(0,tt.length),nt.splice(0,nt.length)}));function it({children:e,getFeatureDictionary:t}){const{notify:i}=p(),[a,s]=(0,r.J0)("en"),{featureName:c}=M(),[l,u]=(0,r.J0)(ot.size<1),d=(0,r.hb)((()=>{try{const e=L.documentElement.lang||k.Shopify?.locale;if(et(e))return e;const t=new Intl.Locale(e);if(t.language&&et(t.language))return t.language;console.error(`Unsupported locale: "${e}"`);for(const n of Ze.languages){if(et(n))return n;const e=new Intl.Locale(n);if(e.language&&et(e.language))return e.language}}catch(e){e instanceof Error&&i(e)}return"en"}),[i]),h=(0,r.hb)((async()=>{if(et(a)){if(!ot.has(a)){u(!0);try{const e=await function(e){switch(e){case"./translations/bg-BG.json":return n.e(8229).then(n.bind(n,70610));case"./translations/cs.json":return n.e(9695).then(n.bind(n,99695));case"./translations/da.json":return n.e(2848).then(n.bind(n,82848));case"./translations/de.json":return n.e(1396).then(n.bind(n,71396));case"./translations/el.json":return n.e(6230).then(n.bind(n,76230));case"./translations/en.json":return n.e(6012).then(n.bind(n,56012));case"./translations/es.json":return n.e(4289).then(n.bind(n,14289));case"./translations/fi.json":return n.e(9574).then(n.bind(n,99574));case"./translations/fr.json":return n.e(6117).then(n.bind(n,46117));case"./translations/hi.json":return n.e(2124).then(n.bind(n,32124));case"./translations/hr-HR.json":return n.e(7116).then(n.bind(n,27116));case"./translations/hu.json":return n.e(592).then(n.bind(n,60592));case"./translations/id.json":return n.e(7594).then(n.bind(n,7594));case"./translations/it.json":return n.e(2858).then(n.bind(n,92858));case"./translations/ja.json":return n.e(5266).then(n.bind(n,65266));case"./translations/ko.json":return n.e(491).then(n.bind(n,60491));case"./translations/lt-LT.json":return n.e(9872).then(n.bind(n,89872));case"./translations/ms.json":return n.e(1001).then(n.bind(n,51001));case"./translations/nb.json":return n.e(6957).then(n.bind(n,76957));case"./translations/nl.json":return n.e(7371).then(n.bind(n,7371));case"./translations/pl.json":return n.e(481).then(n.bind(n,481));case"./translations/pt-BR.json":return n.e(6964).then(n.bind(n,96964));case"./translations/pt-PT.json":return n.e(8088).then(n.bind(n,98088));case"./translations/ro-RO.json":return n.e(7138).then(n.bind(n,27138));case"./translations/ru.json":return n.e(6494).then(n.bind(n,96494));case"./translations/sk-SK.json":return n.e(4712).then(n.bind(n,64712));case"./translations/sl-SI.json":return n.e(8003).then(n.bind(n,18003));case"./translations/sv.json":return n.e(9146).then(n.bind(n,29146));case"./translations/th.json":return n.e(2889).then(n.bind(n,72889));case"./translations/tr.json":return n.e(5947).then(n.bind(n,5947));case"./translations/vi.json":return n.e(7814).then(n.bind(n,67814));case"./translations/zh-CN.json":return n.e(4969).then(n.bind(n,64969));case"./translations/zh-TW.json":return n.e(5417).then(n.bind(n,35417));default:return new Promise((function(t,n){("function"==typeof queueMicrotask?queueMicrotask:setTimeout)(n.bind(null,new Error("Unknown variable dynamic import: "+e)))}))}}(`./translations/${a}.json`);ot.set(a,e)}catch(e){i(new Error(`Failed to fetch translations for locale ${a}: ${e}`))}}if(c&&t){u(!0);const e=t?await t(a):{};nt.push(e)}tt.push((()=>u(!1))),rt(a)}}),[c,t,a,i]);(0,r.vJ)((()=>{const e=d();s(e)}),[d]),(0,r.vJ)((()=>{try{h()}catch(e){e instanceof Error&&i(e)}}),[h,a,i]);const m=(0,r.Kr)((()=>({locale:a,translations:ot})),[a]);return(0,o.Y)(f.Provider,{value:m,children:!l&&e})}function at(e,t=200){const n=(0,r.li)(),o=(0,r.li)(e);return o.current=e,(0,r.hb)(((...e)=>{null!=n.current&&clearTimeout(n.current),n.current=setTimeout(((...e)=>o.current?.(...e)),t,...e)}),[t])}var st=n(7501),ct=n(28033),lt=n(21161),ut=n(34835);function dt(e,t){if(!{}.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var pt=0;function ht(e){return"__private_"+pt+++"_"+e}var ft=ht("url"),mt=ht("serviceName"),gt=ht("logger");class yt{constructor(e,t,n){Object.defineProperty(this,ft,{writable:!0,value:void 0}),Object.defineProperty(this,mt,{writable:!0,value:void 0}),Object.defineProperty(this,gt,{writable:!0,value:void 0}),dt(this,ft)[ft]=e,dt(this,mt)[mt]=t,dt(this,gt)[gt]=null==n?void 0:n.logger}async exportMetrics(e){var t;const n={resourceMetrics:[{resource:{attributes:[{key:"service.name",value:{stringValue:dt(this,mt)[mt]}}]},scopeMetrics:[{scope:{name:"open-telemetry-mini-client",version:"0.3.3",attributes:[]},metrics:e}]}]},o=await fetch(dt(this,ft)[ft],{method:"POST",keepalive:!0,headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});if(null===(t=dt(this,gt)[gt])||void 0===t||t.log({status:o.status}),!o.ok){if(400===o.status){const e=await o.text();throw new wt(`Invalid OpenTelemetry Metrics: ${e}`)}if(429===o.status||503===o.status){const t=await o.json(),n=o.headers.get("Retry-After"),r=n?{seconds:Number(n)}:void 0;throw new wt("Server did not accept metrics",{errorData:t,retryAfter:r,metrics:e})}throw new wt(`Server responded with ${o.status}`)}}}class wt extends Error{constructor(e,t){super(e),this.metadata=void 0,this.name="OpenTelemetryClientError",this.metadata=t}}var bt=(0,ct.A)("exporter");class vt{constructor(e){Object.defineProperty(this,bt,{writable:!0,value:void 0}),(0,st.A)(this,bt)[bt]=e}async exportMetrics(e){try{await(0,st.A)(this,bt)[bt].exportMetrics(e)}catch(t){if(t instanceof wt){const n=t.metadata?.retryAfter;if(n)return void await new Promise((t=>{setTimeout((()=>this.exportMetrics(e).finally(t)),1e3*n.seconds)}))}throw t}}}const xt={blockedRequest:"Blocked Request",emptyeEventCreatedAtMs:"event_created_at_ms metadata field cannot be empty",errorParsingCreatedAtMs:"Error parsing: X-Monorail-Edge-Event-Created-At-Ms",failedToReadRequestBody:"Failed to read request body",incorrectContentType:"Incorrect Content-Type. Expected: application/json or text/plain",methodNotAllowed:"Method Not Allowed",noPermissionToGetURL:"Your client does not have permission to get URL",noResponseFromEdge:"No response from edge",schemaValidationError:"Schema validation error"},kt="https://otlp-http-production.shopifysvc.com/v1/metrics";function Et(){{const e=new yt(kt,"shop-js");return new vt(e)}}function _t(){const e=L.querySelector("script#shop-js-analytics")?.innerHTML;return e?JSON.parse(e):{}}async function St(){let e;return Promise.race([new Promise((t=>e=setTimeout((()=>t({})),1e4))),new Promise((e=>{const t=k.ShopifyAnalytics?.lib?.ready||k.analytics?.ready;t?.((()=>{const t=k.ShopifyAnalytics?.lib?.trekkie||k.analytics?.trekkie;e(t.defaultAttributes)}))}))]).finally((()=>clearTimeout(e)))}async function Tt(...e){if(!k.ShopifyAnalytics&&!k.analytics)return{};let t;Boolean(k.trekkie?.ready)?t=St():(k.trekkie=k.trekkie||[],t=new Promise((e=>{k.trekkie.push(["ready",()=>{e(St())}])})));const n=await t;return e.reduce(((e,t)=>{const o=n[t];return void 0!==o&&(e[t]=o),e}),{})}const Ct="unspecified",Pt=lt.s.createHttpProducer({production:!0});var Mt=(0,ct.A)("analyticsData");class It{constructor({analyticsData:e,devMode:t=!1,notify:n,recordCounter:o}){Object.defineProperty(this,Mt,{writable:!0,value:void 0}),this.trackedPageImpressions=new Set,(0,st.A)(this,Mt)[Mt]={...e,flowVersion:e.flowVersion??Ct},this.devMode=t,this.notify=n,this.recordCounter=o,this.clearTrackedPageImpressions=this.clearTrackedPageImpressions.bind(this),this.produceMonorailEvent=this.produceMonorailEvent.bind(this),this.trackFeatureInitialization=this.trackFeatureInitialization.bind(this),this.trackPageImpression=this.trackPageImpression.bind(this),this.trackUserAction=this.trackUserAction.bind(this)}get analyticsData(){return(0,st.A)(this,Mt)[Mt]}set analyticsData(e){const t={...(0,st.A)(this,Mt)[Mt],...e};We(t,(0,st.A)(this,Mt)[Mt])||((0,st.A)(this,Mt)[Mt]=t)}clearTrackedPageImpressions(){this.trackedPageImpressions.clear()}produceMonorailEvent({event:e,onError:t,trekkieAttributes:n}){this.devMode||(!n||Object.keys(n).length?(e.payload=Object.assign(e.payload,n),Pt.produce(e).catch((e=>{if(t?.(e),(e=>!(e instanceof ut.pJ||e?.message?.includes("Invalid agent:")))(e)){const t=e instanceof Error?e:new R(String(e),"MonorailProducerError");if(this.notify?.(t),this.recordCounter){const e=function(e){const t=Object.values(xt).find((([t,n])=>e.message.includes(n)));return t?.[0]||"otherErrors"}(t);this.recordCounter("shop_js_monorail_producer_error",{attributes:{error:e}})}}}))):t?.({message:"trekkie attributes are empty"}))}async trackFeatureInitialization(){const{analyticsTraceId:e,apiKey:t,checkoutToken:n,flow:o,flowVersion:r=Ct,shopId:i,source:a="unspecified"}=this.analyticsData;if(!e||!o)return;const s=_t(),c=s?.pageType??"",l={...t&&{apiKey:t},...n&&{checkoutToken:n},...i&&{shopId:i},...await Tt("customerId","isPersistentCookie","path","uniqToken","visitToken"),analyticsTraceId:e,flow:o,flowVersion:r,sdkVersion:"1.0.30-1236-beta",shopPermanentDomain:k.Shopify?.shop??"",source:a,storefrontPageType:c};this.produceMonorailEvent({event:{schemaId:"shopify_pay_login_with_shop_sdk_feature_initialize/1.0",payload:l}})}async trackPageImpression({page:e,shopAccountUuid:t,allowDuplicates:n=!1}){if(!n&&this.trackedPageImpressions.has(e))return;const{analyticsTraceId:o,apiKey:r,checkoutToken:i,flow:a,flowVersion:s=Ct}=this.analyticsData;if(!o||!a)return;this.trackedPageImpressions.add(e);const c=_t(),l=c?.pageType??"",u=await Tt("customerId","isPersistentCookie","path","uniqToken","visitToken"),d={...r&&{apiKey:r},...i&&{checkoutToken:i},...t&&{shopAccountUuid:t},...u,analyticsTraceId:o,flow:a,flowVersion:s,pageName:e,sdkVersion:"1.0.30-1236-beta",shopPermanentDomain:k.Shopify?.shop??"",storefrontPageType:l};this.produceMonorailEvent({event:{payload:d,schemaId:"shopify_pay_login_with_shop_sdk_page_impressions/3.3"},onError:()=>{this.trackedPageImpressions.delete(e)},trekkieAttributes:u})}trackUserAction({userAction:e}){const{analyticsTraceId:t,apiKey:n,checkoutToken:o,checkoutVersion:r,flow:i,flowVersion:a=Ct,shopId:s}=this.analyticsData;if(!t||!i)return;const c={...n&&{apiKey:n},...o&&{checkoutToken:o},...r&&{checkoutVersion:r},...s&&{shopId:s},analyticsTraceId:t,flow:i,flowVersion:a,sdkVersion:"1.0.30-1236-beta",shopPermanentDomain:k.Shopify?.shop??"",userAction:e};this.produceMonorailEvent({event:{schemaId:"shopify_pay_login_with_shop_sdk_user_actions/2.2",payload:c}})}}const At=({analyticsContext:e="loginWithShop",analyticsTraceId:t,apiKey:n,checkoutVersion:i,checkoutToken:a,children:s,flow:c,flowVersion:l,shopId:u=0,shopPermanentDomain:d,source:h})=>{const{notify:f}=p(),{recordCounter:m}=x(),{devMode:g,instanceId:w}=M(),b=(0,r.li)({analyticsContext:e,analyticsTraceId:t||w,apiKey:n,checkoutVersion:i,checkoutToken:a,flow:c,flowVersion:l,shopId:u,shopPermanentDomain:d,source:h}),v=(0,r.Kr)((()=>new It({analyticsData:b.current,devMode:g,notify:f,recordCounter:m})),[g,f,m]);v.analyticsData={...b.current,analyticsTraceId:t||w,analyticsContext:e,apiKey:n,checkoutVersion:i,checkoutToken:a,flow:c,flowVersion:l,shopId:u,shopPermanentDomain:d,source:h},(0,r.vJ)((()=>()=>{v.clearTrackedPageImpressions()}),[v]);const k=at((()=>v.trackFeatureInitialization()),500);(0,r.vJ)((()=>{k()}),[k]);const E=(0,r.Kr)((()=>({analyticsData:v.analyticsData,getTrekkieAttributes:Tt,produceMonorailEvent:v.produceMonorailEvent,trackPageImpression:v.trackPageImpression,trackUserAction:v.trackUserAction})),[v.analyticsData,v.produceMonorailEvent,v.trackPageImpression,v.trackUserAction]);return(0,o.Y)(y.Provider,{value:E,children:s})};function Rt(e){return Object.entries(e).map((([e,t])=>({key:e,value:{stringValue:String(t)}})))}const Dt=function(e,t,n){const o=[0];for(let r=0;r<12;r++){const e=Math.floor(5*2**r);o.push(e)}return o}();var Lt=ht("exporter"),Ot=ht("attributes"),jt=ht("metrics");class Nt{constructor({exporter:e,attributes:t}){Object.defineProperty(this,Lt,{writable:!0,value:void 0}),Object.defineProperty(this,Ot,{writable:!0,value:void 0}),Object.defineProperty(this,jt,{writable:!0,value:[]}),dt(this,Lt)[Lt]=e,dt(this,Ot)[Ot]=null!=t?t:{}}addAttributes(e){dt(this,Ot)[Ot]={...dt(this,Ot)[Ot],...e}}histogram({name:e,value:t,unit:n,bounds:o,attributes:r}){const i=1e6*Date.now();dt(this,jt)[jt].push({name:e,type:"histogram",value:t,unit:n,timeUnixNano:i,attributes:r,bounds:o})}counter({name:e,value:t,unit:n,attributes:o}){const r=1e6*Date.now();dt(this,jt)[jt].push({name:e,type:"counter",value:t,unit:n,timeUnixNano:r,attributes:o})}gauge({name:e,value:t,unit:n,attributes:o}){const r=1e6*Date.now();dt(this,jt)[jt].push({name:e,type:"gauge",value:t,unit:n,timeUnixNano:r,attributes:o})}async exportMetrics(){const e={};dt(this,jt)[jt].forEach((t=>{switch(t.attributes={...dt(this,Ot)[Ot],...t.attributes},t.type){case"histogram":!function(e,t){var n;const{name:o,value:r,unit:i,timeUnixNano:a,attributes:s}=t,c=null!==(n=t.bounds)&&void 0!==n?n:Dt,l=new Array(c.length+1).fill(0);e[o]||={name:o,unit:i||"1",histogram:{aggregationTemporality:1,dataPoints:[]}};for(let u=0;u<l.length;u++){const e=c[u];if(void 0===e)l[u]=1;else if(r<=e){l[u]=1;break}}e[o].histogram.dataPoints.push({startTimeUnixNano:a,timeUnixNano:a,count:1,sum:r,min:r,max:r,bucketCounts:l,explicitBounds:c,attributes:Rt(null!=s?s:{})})}(e,t);break;case"counter":!function(e,t){const{name:n,value:o,unit:r,timeUnixNano:i,attributes:a}=t;e[n]||={name:n,unit:r||"1",sum:{aggregationTemporality:1,isMonotonic:!0,dataPoints:[]}},e[n].sum.dataPoints.push({startTimeUnixNano:i,timeUnixNano:i,asDouble:o,attributes:Rt(null!=a?a:{})})}(e,t);break;case"gauge":!function(e,t){const{name:n,value:o,unit:r,timeUnixNano:i,attributes:a}=t;e[n]||={name:n,unit:r||"1",gauge:{dataPoints:[]}},e[n].gauge.dataPoints.push({startTimeUnixNano:i,timeUnixNano:i,asDouble:o,attributes:Rt(null!=a?a:{})})}(e,t)}}));const t=Object.values(e);0!==t.length&&(dt(this,jt)[jt]=[],await dt(this,Lt)[Lt].exportMetrics(t))}}class zt extends Nt{counter(e){super.counter(e),this.exportMetrics()}histogram(e){super.histogram(e),this.exportMetrics()}gauge(e){super.gauge(e),this.exportMetrics()}}function Ut({children:e}){const{featureName:t}=M(),n=(0,r.Kr)((()=>new zt({exporter:Et()})),[]),i=(0,r.hb)(((e,o={})=>{const{attributes:r,unit:i,value:a=1}=o;n.counter({attributes:{beta:!0,feature:t,...r},name:e,value:a,unit:i})}),[n,t]),a=(0,r.hb)(((e,o={})=>{const{attributes:r,unit:i,value:a=1}=o;n.gauge({attributes:{beta:!0,feature:t,...r},name:e,value:a,unit:i})}),[n,t]),s=(0,r.hb)(((e,o={})=>{const{attributes:r,unit:i,value:a=1,bounds:s}=o;n.histogram({attributes:{beta:!0,feature:t,...r},bounds:s,name:e,value:a,unit:i})}),[n,t]),c=(0,r.Kr)((()=>({client:n,recordCounter:i,recordGauge:a,recordHistogram:s})),[n,i,a,s]);return(0,o.Y)(v.Provider,{value:c,children:e})}const Ft=({children:e,devMode:t=!1,element:n,featureName:i,getFeatureDictionary:s,monorailEnabled:c=!0,monorailProps:l})=>{(0,r.vJ)((()=>{if(L.querySelector('style[data-description="shop-js-font-faces"]'))return;const e=L.createElement("style");e.dataset.description="shop-js-font-faces",e.appendChild(L.createTextNode("\n@font-face {\n  font-family: 'SuisseIntl';\n  src: url('https://cdn.shopify.com/shop-assets/static_uploads/shoplift/SuisseIntl-Book.otf')\n    format('opentype');\n  font-style: normal;\n  font-weight: 450;\n  font-display: fallback;\n}\n\n@font-face {\n  font-family: 'SuisseIntl';\n  src: url('https://cdn.shopify.com/shop-assets/static_uploads/shoplift/SuisseIntl-Medium.otf')\n    format('opentype');\n  font-style: normal;\n  font-weight: 500;\n  font-display: fallback;\n}\n\n@font-face {\n  font-family: 'SuisseIntl';\n  src: url('https://cdn.shopify.com/shop-assets/static_uploads/shoplift/SuisseIntl-SemiBold.otf')\n    format('opentype');\n  font-style: normal;\n  font-weight: 600;\n  font-display: fallback;\n}")),L.head.appendChild(e)}),[]);const u=c?At:a.FK,d=(0,r.Kr)((()=>c&&l?.analyticsTraceId?l.analyticsTraceId:(0,A.A)()),[c,l?.analyticsTraceId]);(0,r.vJ)((()=>{n&&n.setAttribute("data-instance-id",d)}),[n,d]);const p=(0,r.Kr)((()=>({devMode:t,element:n,featureName:i,instanceId:d})),[t,n,i,d]);return(0,o.Y)(P.Provider,{value:p,children:(0,o.Y)(Qe,{children:(0,o.Y)(Ut,{children:(0,o.Y)(u,{...l,children:(0,o.Y)(it,{getFeatureDictionary:s,children:e})})})})})};var Vt='/*! tailwindcss v3.4.4 | MIT License | https://tailwindcss.com*/*,:after,:before{border:0 solid;box-sizing:border-box}:after,:before{--tw-content:""}:host,html{-webkit-text-size-adjust:100%;font-feature-settings:normal;-webkit-tap-highlight-color:transparent;font-family:SuisseIntl;font-variation-settings:normal;line-height:1.5;tab-size:4}body{line-height:inherit;margin:0}hr{border-top-width:1px;color:inherit;height:0}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,pre,samp{font-feature-settings:normal;font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-size:1em;font-variation-settings:normal}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:initial}sub{bottom:-.25em}sup{top:-.5em}table{border-collapse:collapse;border-color:inherit;text-indent:0}button,input,optgroup,select,textarea{font-feature-settings:inherit;color:inherit;font-family:inherit;font-size:100%;font-variation-settings:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;margin:0;padding:0}button,select{text-transform:none}button,input:where([type=button]),input:where([type=reset]),input:where([type=submit]){-webkit-appearance:button;background-color:initial;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:initial}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dd,dl,figure,h1,h2,h3,h4,h5,h6,hr,p,pre{margin:0}fieldset{margin:0}fieldset,legend{padding:0}menu,ol,ul{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::placeholder,textarea::placeholder{color:#9ca3af;opacity:1}[role=button],button{cursor:pointer}:disabled{cursor:default}audio,canvas,embed,iframe,img,object,svg,video{display:block;vertical-align:middle}img,video{height:auto;max-width:100%}[hidden]{display:none}:host{font-family:SuisseIntl}*,::backdrop,:after,:before{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:#3b82f680;--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }.container{width:100%}@media (min-width:768px){.container{max-width:768px}}@media (min-width:1024px){.container{max-width:1024px}}@media (min-width:1280px){.container{max-width:1280px}}@media (min-width:1536px){.container{max-width:1536px}}.sr-only{clip:rect(0,0,0,0);border-width:0;height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;white-space:nowrap;width:1px}.pointer-events-none{pointer-events:none}.\\!visible{visibility:visible!important}.visible{visibility:visible}.fixed{position:fixed}.absolute{position:absolute}.relative{position:relative}.inset-05{inset:2px}.bottom-0{bottom:0}.bottom-8{bottom:32px}.left-0{left:0}.right-0{right:0}.top-0{top:0}.-z-10{z-index:-10}.z-10{z-index:10}.z-30{z-index:30}.z-40{z-index:40}.z-50{z-index:50}.z-max{z-index:2147483647}.-m-px{margin:-1px}.m-0{margin:0}.m-auto{margin:auto}.mx-auto{margin-left:auto;margin-right:auto}.mb-2{margin-bottom:8px}.block{display:block}.inline-block{display:inline-block}.flex{display:flex}.inline-flex{display:inline-flex}.table{display:table}.hidden{display:none}.size-5{height:20px;width:20px}.size-6{height:24px;width:24px}.h-4{height:16px}.h-4-5{height:18px}.h-5{height:20px}.h-6{height:24px}.h-9{height:36px}.h-auto{height:auto}.h-px{height:1px}.w-22{width:88px}.w-37{width:148px}.w-55{width:220px}.w-6{width:24px}.w-9{width:36px}.w-auto{width:auto}.w-full{width:100%}.w-full-important{width:100%!important}.w-pay-button{width:var(--shop-pay-button-width,260px)}.w-px{width:1px}.min-w-85{min-width:340px}.max-w-94{max-width:376px}.flex-shrink-0{flex-shrink:0}.translate-y-16{--tw-translate-y:64px}.rotate-45,.translate-y-16{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.rotate-45{--tw-rotate:45deg}.scale-0{--tw-scale-x:0;--tw-scale-y:0}.scale-0,.scale-100{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.scale-100{--tw-scale-x:1;--tw-scale-y:1}@keyframes follow{0%{transform:scaleY(1);width:100%}25%{transform:scaleY(1)}50%{transform:scaleY(1.2)}to{transform:scaleY(1);width:36px}}.animate-follow{animation:follow .3s cubic-bezier(.45,0,.15,1)}.cursor-pointer{cursor:pointer}.items-center{align-items:center}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.gap-x-1{column-gap:4px}.gap-x-1-5{column-gap:6px}.gap-x-4{column-gap:16px}.overflow-hidden{overflow:hidden}.overflow-visible{overflow:visible}.text-ellipsis{text-overflow:ellipsis}.whitespace-nowrap{white-space:nowrap}.whitespace-pre-line{white-space:pre-line}.rounded-lg{border-radius:16px}.rounded-login-button{border-radius:var(--buttons-radius,12px)}.rounded-max{border-radius:999px}.rounded-md{border-radius:12px}.rounded-xs{border-radius:4px}.border{border-width:1px}.border-none{border-style:none}.border-grayscale-l2l{--tw-border-opacity:1;border-color:rgb(227 227 227/var(--tw-border-opacity))}.bg-grayscale-l4{--tw-bg-opacity:1;background-color:rgb(242 244 245/var(--tw-bg-opacity))}.bg-grayscale-primary-light{--tw-bg-opacity:1;background-color:rgb(112 112 112/var(--tw-bg-opacity))}.bg-overlay{background-color:#0006}.bg-purple-primary{--tw-bg-opacity:1;background-color:rgb(84 51 235/var(--tw-bg-opacity))}.bg-transparent{background-color:initial}.bg-white{--tw-bg-opacity:1;background-color:rgb(255 255 255/var(--tw-bg-opacity))}.p-0{padding:0}.p-3{padding:12px}.p-4{padding:16px}.p-6{padding:24px}.px-0{padding-left:0;padding-right:0}.px-11{padding-left:44px;padding-right:44px}.px-2{padding-left:8px;padding-right:8px}.px-4{padding-left:16px;padding-right:16px}.px-6{padding-left:24px;padding-right:24px}.py-2-5{padding-bottom:10px;padding-top:10px}.py-3{padding-bottom:12px;padding-top:12px}.py-4{padding-bottom:16px;padding-top:16px}.pb-0{padding-bottom:0}.pb-2{padding-bottom:8px}.pb-4{padding-bottom:16px}.pr-3{padding-right:12px}.pt-4{padding-top:16px}.text-center{text-align:center}.font-sans{font-family:SuisseIntl}.text-body-small{font-size:14px;font-weight:450;letter-spacing:.15px;line-height:18px}.text-button-large{font-size:16px;font-weight:500;letter-spacing:.15px;line-height:18px}.text-caption{font-size:12px;font-weight:450;letter-spacing:.15px;line-height:14px}.text-subtitle{font-size:18px;font-weight:500;letter-spacing:.15px;line-height:20px}.leading-6{line-height:1.5rem}.text-black{--tw-text-opacity:1;color:rgb(0 0 0/var(--tw-text-opacity))}.text-grayscale-d1{--tw-text-opacity:1;color:rgb(64 64 64/var(--tw-text-opacity))}.text-grayscale-l4{--tw-text-opacity:1;color:rgb(242 244 245/var(--tw-text-opacity))}.text-purple-primary{--tw-text-opacity:1;color:rgb(84 51 235/var(--tw-text-opacity))}.text-white{--tw-text-opacity:1;color:rgb(255 255 255/var(--tw-text-opacity))}.no-underline{text-decoration-line:none}.opacity-0{opacity:0}.opacity-100{opacity:1}.transition-all{transition-duration:.15s;transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1)}.transition-colors{transition-duration:.15s;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke;transition-timing-function:cubic-bezier(.4,0,.2,1)}.delay-200{transition-delay:.2s}.duration-200{transition-duration:.2s}.ease-cubic-in-out{transition-timing-function:cubic-bezier(.65,0,.35,1)}.ease-cubic-modal{transition-timing-function:cubic-bezier(.32,.72,0,1)}.will-change-transform{will-change:transform}.forced-color-adjust-none{forced-color-adjust:none}.focus_outline-0:focus{outline-width:0}.hover_enabled_bg-purple-d0:enabled:hover{--tw-bg-opacity:1;background-color:rgb(69 36 219/var(--tw-bg-opacity))}.focus-visible_enabled_outline-none:enabled:focus-visible{outline:2px solid #0000;outline-offset:2px}.focus-visible_enabled_ring:enabled:focus-visible{--tw-ring-offset-shadow:var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow:var(--tw-ring-inset) 0 0 0 calc(3px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow,0 0 #0000)}.focus-visible_enabled_ring-purple-primary-light:enabled:focus-visible{--tw-ring-opacity:1;--tw-ring-color:rgb(219 209 255/var(--tw-ring-opacity))}.disabled_opacity-50:disabled{opacity:.5}.group:hover .group-hover_bg-purple-d0{--tw-bg-opacity:1;background-color:rgb(69 36 219/var(--tw-bg-opacity))}.group:hover .group-hover_text-grayscale-l2l{--tw-text-opacity:1;color:rgb(227 227 227/var(--tw-text-opacity))}.data-\\[visible\\=true\\]_translate-y-0[data-visible=true]{--tw-translate-y:0px;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.data-\\[visible\\=true\\]_opacity-100[data-visible=true]{opacity:1}@media (prefers-reduced-motion:reduce){.motion-reduce_translate-y-0{--tw-translate-y:0px;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.motion-reduce_transition-opacity{transition-duration:.15s;transition-property:opacity;transition-timing-function:cubic-bezier(.4,0,.2,1)}.motion-reduce_duration-0{transition-duration:0s}}@media (max-width:448px){.sm_absolute{position:absolute}.sm_bottom-0{bottom:0}.sm_left-0{left:0}.sm_right-0{right:0}.sm_top-auto{top:auto}.sm_hidden{display:none}.sm_max-w-none{max-width:none}.sm_translate-y-0{--tw-translate-y:0px}.sm_translate-y-0,.sm_translate-y-full{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.sm_translate-y-full{--tw-translate-y:100%}.sm_scale-100{--tw-scale-x:1;--tw-scale-y:1;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.sm_rounded-none{border-radius:0}.sm_rounded-b-none{border-bottom-left-radius:0;border-bottom-right-radius:0}}';function Yt({children:e,instanceId:t,type:n}){const a=(0,r.li)(null),[s,c]=(0,r.J0)(null);return(0,r.Nf)((()=>{c(a.current.attachShadow({mode:"open"}))}),[]),(0,r.Nf)((()=>{if(s){const e=new CSSStyleSheet;e.replace(Vt),s.adoptedStyleSheets=[e]}}),[s]),(0,o.Y)("div",{"data-nametag":"shop-portal-provider","data-portal-instance-id":t,"data-type":n,ref:a,style:{all:"initial"},children:s&&(0,i.d5)((0,o.Y)(Ft,{monorailEnabled:!1,children:e}),s)})}const Jt=({anchorTo:e,children:t,hideHeader:n=!1,disableMinWidth:a=!1,key:s,modalTitle:c="Sign in with Shop",onDismiss:l,onModalInViewport:u,popupDisabled:d,visible:p})=>{const{translate:h}=(()=>{const{locale:e,translations:t}=m();return{translate:(n,r)=>{const i=n.split(".");if(!t)throw new ReferenceError;const{count:a,defaultValue:s,...c}=r||{};let l=t.get(e);if(!l&&r?.defaultValue)return r.defaultValue;try{for(const t of i)switch(typeof l){case"object":l=l[t];break;case"string":case"undefined":throw new ReferenceError}if(void 0===l)throw new ReferenceError;if("string"!=typeof t&&a){let e=1===a?"one":"other";0===a&&"string"!=typeof t&&"zero"in t&&(e="zero"),l=l[e]}if("string"!=typeof l)throw new ReferenceError;let e=!1;const n=Object.keys(c),r=l.split(new RegExp(`({${n.join("}|{")}})`,"g"));return n.forEach((t=>{e||"string"==typeof c[t]||(e=!0),r.forEach(((e,n)=>{e===`{${t}}`&&(r[n]=c[t])}))})),e?(0,o.Y)(o.FK,{children:r}):r.join("")}catch(u){return s||n}}}})(),f=(0,r.li)(null),[g,y]=(0,r.J0)(null),w=(0,r.li)(null),b=(0,r.li)(null),v=(0,r.li)(null),{instanceId:x}=M(),[E,_]=(0,r.J0)(),{floatingStyles:S,middlewareData:T,refs:C,update:P}=function(e={}){const{placement:t="bottom",strategy:n="absolute",middleware:o=[],platform:i,elements:{reference:a,floating:s}={},transform:c=!0,whileElementsMounted:l,open:u}=e,[d,p]=(0,r.J0)({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[h,f]=(0,r.J0)(o);We(h,o)||f(o);const[m,g]=(0,r.J0)(null),[y,w]=(0,r.J0)(null),b=(0,r.hb)((e=>{e!==E.current&&(E.current=e,g(e))}),[]),v=(0,r.hb)((e=>{e!==_.current&&(_.current=e,w(e))}),[]),x=a||m,k=s||y,E=(0,r.li)(null),_=(0,r.li)(null),S=(0,r.li)(d),T=null!=l,C=Ke(l),P=Ke(i),M=(0,r.hb)((()=>{if(!E.current||!_.current)return;const e={placement:t,strategy:n,middleware:h};P.current&&(e.platform=P.current),Fe(E.current,_.current,e).then((e=>{const t={...e,isPositioned:!0};I.current&&!We(S.current,t)&&(S.current=t,p(t))})).catch((e=>{console.error("error caught during computePosition",e)}))}),[h,t,n,P]);(0,r.vJ)((()=>{!1===u&&S.current.isPositioned&&(S.current.isPositioned=!1,p((e=>({...e,isPositioned:!1}))))}),[u]);const I=(0,r.li)(!1);(0,r.vJ)((()=>(I.current=!0,()=>{I.current=!1})),[]),(0,r.vJ)((()=>{if(x&&(E.current=x),k&&(_.current=k),x&&k){if(C.current)return C.current(x,k,M);M()}}),[x,k,M,C,T]);const A=(0,r.Kr)((()=>({reference:E,floating:_,setReference:b,setFloating:v})),[b,v]),R=(0,r.Kr)((()=>({reference:x,floating:k})),[x,k]),D=(0,r.Kr)((()=>{const e={position:n,left:0,top:0};if(!R.floating)return e;const t=Be(R.floating,d.x),o=Be(R.floating,d.y);return c?{...e,transform:`translate(${t}px, ${o}px)`,...qe(R.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:t,top:o}}),[n,c,R.floating,d.x,d.y]);return(0,r.Kr)((()=>({...d,update:M,refs:A,elements:R,floatingStyles:D})),[d,M,A,R,D])}({middleware:[ze({crossAxis:!1,fallbackPlacements:["bottom","top"]}),Ne({padding:30}),je(30),(I={element:w,padding:28},{name:"arrow",options:I,fn(e){const{element:t,padding:n}=I;return t&&(o=t,{}.hasOwnProperty.call(o,"current"))?null!=t.current?Ue({element:t.current,padding:n}).fn(e):{}:t?Ue({element:t,padding:n}).fn(e):{};var o}})],placement:"right",whileElementsMounted:Oe});var I;(0,r.vJ)((()=>{if(e){let t;t="string"==typeof e?L.querySelector(e):e.current,y(t),C.setReference(t),P()}}),[e,C,P]),b.current||(b.current=new IntersectionObserver((e=>{for(const t of e)t.boundingClientRect.top<0&&k.scrollTo({top:0,left:0}),t.isIntersecting&&u?.()}))),f.current||(f.current=new IntersectionObserver((e=>{for(const t of e)if(t.boundingClientRect.top<0&&k.scrollTo({top:0,left:0}),!t.isIntersecting&&t.target.offsetTop){const e=(g?.offsetHeight||0)+(v.current?.offsetHeight||0)/2+30;k.scrollTo({top:t.target.offsetTop-e})}}))),(0,r.vJ)((()=>()=>{b.current&&b.current.disconnect(),f.current&&f.current.disconnect()}),[]);const{isDesktop:A}=function(){const e=$e.mobile.every((e=>k.matchMedia(`(${e})`).matches)),t=!e&&$e.tablet.every((e=>k.matchMedia(`(${e})`).matches));return{isMobile:e,isTablet:t,isDesktop:!e&&!t}}(),R=(0,r.Kr)((()=>g&&!d&&A?"dynamic":"center"),[g,A,d]),D=(0,r.hb)((()=>{l(),E?L.documentElement.style.overflow=E:L.documentElement.style.removeProperty("overflow")}),[E,l]);(0,r.vJ)((()=>{function e({key:e}){"Escape"!==e&&"Esc"!==e||D()}return k.addEventListener("keydown",e),()=>{k.removeEventListener("keydown",e)}}),[D]),(0,r.vJ)((()=>{p?(_(L.documentElement.style.overflow),L.documentElement.style.overflow="hidden",b.current&&v.current&&b.current.observe(v.current),f.current&&g&&f.current.observe(g)):(b.current&&v.current&&b.current.unobserve(v.current),f.current&&g&&f.current.unobserve(g))}),[g,p]);const O=Ye()("fixed bottom-0 left-0 right-0 top-0 z-10 bg-overlay duration-200 ease-cubic-modal motion-reduce_duration-0",p?"opacity-100":"opacity-0"),j=Ye()("fixed bottom-0 left-0 right-0 top-0 z-max overflow-hidden","center"===R&&"flex items-center justify-center",!p&&"pointer-events-none"),N=Ye()("relative z-50 rounded-lg bg-white duration-200 ease-cubic-modal will-change-transform focus_outline-0 motion-reduce_duration-0 sm_absolute sm_bottom-0 sm_left-0 sm_right-0 sm_top-auto sm_rounded-b-none",p?"opacity-1 delay-200 sm_translate-y-0":"opacity-0 sm_translate-y-full","dynamic"===R&&p?"scale-100":"","dynamic"!==R||p?"":"scale-0 sm_scale-100",!a&&"min-w-85"),z=(0,r.Kr)((()=>{if("center"===R)return null;const e=T.flip?.overflows?.some((e=>"bottom"===e.placement));let t,n;void 0===T.flip?.overflows?t=T.arrow?.y:e?n="-10px":t="-10px";const r=Ye()("absolute z-30 block size-6 rotate-45 rounded-xs delay-200 duration-200 ease-cubic-modal sm_hidden",e?"bg-grayscale-l4":"bg-white");return(0,o.Y)("div",{className:r,ref:w,style:{bottom:n,left:T.arrow?.x||"-10px",top:t}})}),[T.arrow?.x,T.arrow?.y,T.flip?.overflows,R]),U="dynamic"===R?S:void 0,F=n?null:(0,o.FD)("div",{className:"flex w-full items-center justify-between p-4 pb-2",children:[(0,o.Y)(Je,{className:"h-4-5 text-purple-primary"}),(0,o.FD)("button",{"aria-label":h("button.close",{defaultValue:"Close"}),className:"group relative z-50 flex h-6 w-6 cursor-pointer rounded-max","data-testid":"authorize-modal-close-button",type:"button",onClick:D,children:[(0,o.Y)(He,{className:"h-6 w-6 text-grayscale-l4 transition-colors group-hover_text-grayscale-l2l"}),(0,o.Y)("div",{className:"absolute inset-05 -z-10 rounded-max bg-grayscale-primary-light"})]})]}),V=p?{}:{"aria-hidden":!0};return(0,i.d5)((0,o.Y)(Yt,{instanceId:x,type:"modal",children:(0,o.FD)("div",{className:j,children:[(0,o.Y)("div",{...V,className:O,onClick:D}),(0,o.Y)("button",{"aria-hidden":"true",className:"absolute -m-px h-px w-px overflow-hidden whitespace-nowrap p-0",type:"button"}),(0,o.FD)("section",{"aria-modal":"true",...V,"aria-label":c,className:N,"data-testid":"authorize-modal","data-visible":p,part:"modal",ref:e=>{v.current=e,g&&(C.setFloating(e),P())},role:"dialog",style:U,tabIndex:-1,children:[(0,o.FD)("div",{className:"relative overflow-hidden rounded-lg sm_rounded-b-none",children:[F,t]}),z]}),(0,o.Y)("button",{type:"button","aria-hidden":"true",className:"absolute -m-px h-px w-px overflow-hidden whitespace-nowrap p-0"})]})},s),L.body)},Wt=["captcha_challenge"],qt=(0,i.Rf)((({activator:e,analyticsContext:t="loginWithShop",anchorTo:n,autoOpen:i,avoidPayAltDomain:a=!1,avoidSdkSession:s=!1,checkoutRedirectUrl:c,checkoutToken:l,checkoutVersion:d,clientId:h,codeChallenge:f,codeChallengeMethod:g,consentChallenge:y,disableSignUp:b=!1,emailVerificationRequired:v=!1,flow:E="default",flowVersion:P="unspecified",keepModalOpen:M=!1,onComplete:A,onError:D,onLoaded:O,onModalVisibleChange:j,popUpFeatures:N,popUpName:z,proxy:U,redirectType:F,redirectUri:V,requireVerification:Y,responseMode:J,responseType:W,scope:q,state:B,storefrontOrigin:K,transactionParams:$},H)=>{const{analyticsData:X,produceMonorailEvent:Z,trackPageImpression:G}=w(),{leaveBreadcrumb:Q,notify:ee}=p(),{recordCounter:te}=x(),{clearLoadTimeout:ne,initLoadTimeout:oe}=function(){const e=I(),t=(0,r.li)(null),n=(0,r.hb)((()=>{t.current&&(clearTimeout(t.current),t.current=null)}),[]);return{initLoadTimeout:(0,r.hb)((()=>{n(),t.current=setTimeout((()=>{e("error",{message:"Shop login is temporarily unavailable",code:"temporarily_unavailable"}),n()}),1e4)}),[n,e]),clearLoadTimeout:n}}(),{dispatch:re,state:ie}=function(){const e=(0,r.NT)(u);return e.dispatch||console.error("Invalid attempt to use useAuthorizeState outside of Authorize provider"),e}(),ae=(0,r.li)(null),[se,ce]=(0,r.J0)(!1),[le,ue]=(0,r.J0)(!1),de=function(e){const t=(0,r.li)(e);return(0,r.vJ)((()=>{t.current=e})),t.current}(le),{locale:pe}=m(),he=I(),fe=(0,r.hb)((e=>{const{analyticsTraceId:t,checkoutToken:n,flow:o,flowVersion:r="unspecified"}=X;t&&o&&Z({event:{schemaId:"shop_identity_modal_state_change/1.2",payload:{analyticsTraceId:t,currentState:e,checkoutToken:n,flow:o,flowVersion:r}}})}),[X,Z]),me=(0,r.hb)((()=>{ue(!0),fe("shown")}),[fe]),ge=(0,r.hb)((()=>{ue(!1),e?.current&&Bt(e)&&e.current.focus(),fe("hidden")}),[e,fe]),ye=(0,r.hb)((e=>function({contentWindow:e,event:t}){e&&[T,C].forEach((n=>{e.postMessage(t,n)}))}({contentWindow:ae?.current?.contentWindow,event:e})),[]);(0,r.vJ)((()=>{function t(){me()}const n=e;if(n?.current&&Bt(n))return n.current.addEventListener("click",t),()=>{n.current?.removeEventListener("click",t)}}),[e,me]),(0,r.vJ)((()=>{re&&("loginWithShopClassicCustomerAccounts"===t&&re({payload:"sign_up"===P?"classic":"phoneAuth",type:"setFlow"}),"loginWithShopPaymentRequest"===t&&re({payload:"paymentRequest",type:"setFlow"}))}),[t,re,P]);const we=(0,r.Kr)((()=>{const{analyticsTraceId:e}=X;return(e=>{if(!e.proxy){if(!e.oauthParams)return"";const t=_(e);return`${T}${e.avoidPayAltDomain?"/pay/sdk-authorize":"/pay/sdk-session"}?${t}`}const t=_(e);return`${S}/services/login_with_shop/authorize?${t}`})({analyticsContext:t,analyticsTraceId:e,avoidPayAltDomain:a,avoidSdkSession:s,checkoutToken:l,checkoutRedirectUrl:c,checkoutVersion:d,consentChallenge:y,disableSignUp:b,emailVerificationRequired:v,flow:E,flowVersion:P,locale:pe,oauthParams:{clientId:h,codeChallenge:f,codeChallengeMethod:g,redirectType:F,redirectUri:V,responseMode:J,responseType:W,scope:q,state:B},popupWindowParams:{popUpFeatures:N,popUpName:z},proxy:U,requireVerification:Y,transactionParams:$})}),[t,X,a,s,l,c,d,h,f,g,y,b,v,E,P,pe,B,N,z,U,F,V,Y,J,W,q,$]),be=(0,r.hb)((()=>{ae.current?.setAttribute("src",""),ae.current?.setAttribute("src",we)}),[we]),{destroy:ve,waitForMessage:xe}=function({includeCore:e,source:t,storefrontOrigin:n,...o}){const i=I(),a=(0,r.hb)((e=>{const{onAuthorizeStepChanged:t,onClose:n,onComplete:r,onConfirmSuccess:a,onCustomFlowSideEffect:s,onDiscountSaved:c,onEmailChangeRequested:l,onError:u,onLeadCaptureLoaded:d,onLoaded:p,onPopUpOpened:h,onProcessingStatusUpdated:f,onResizeIframe:m,onRestarted:g,onShopUserMatched:y,onShopUserNotMatched:w,onUserVerified:b,onVerificationStepChanged:v}=o;switch(e.type){case"authorize_step_changed":t?.(e);break;case"close_requested":n?.();break;case"completed":r?.(e),i("completed",e);break;case"confirm_success":a?.();break;case"custom_flow_side_effect":s?.();break;case"discount_saved":c?.();break;case"email_change_requested":l?.();break;case"error":u?.(e),i("error",{code:e.code,message:e.message,email:e.email});break;case"loaded":i("loaded",e),"loginTitle"in e?d?.(e):p?.(e);break;case"pop_up_opened":h?.(e),i("popuploading",e);break;case"processing_status_updated":f?.();break;case"resize_iframe":m?.(e);break;case"restarted":g?.(),i("restarted");break;case"shop_user_matched":y?.(e);break;case"shop_user_not_matched":w?.(e);break;case"user_verified":b?.(e);break;case"verification_step_changed":v?.(e)}}),[i,o]);return function({allowedOrigins:e,destination:t=k,handler:n,source:o}){const i=(0,r.Kr)((()=>new Set),[]);(0,r.vJ)((()=>(i.add(n),()=>{i.delete(n)})),[n,i]);const a=(0,r.hb)((e=>{i.forEach((t=>t(e)))}),[i]),s=(0,r.hb)((t=>{(function(e,t){return e.source===t})(t,o?.current?.contentWindow||null)&&(e.some((e=>function(e,t){try{const n=new URL(e).host.split(".").reverse(),o=new URL(t).host.split(".").reverse();for(let e=0;e<Math.min(n.length,o.length);e++)if(n[e]!==o[e])return!1;return!0}catch(n){return!1}}(e,t.origin)))?a(t.data):console.error("Origin mismatch for message event",t))}),[e,a,o]),c=(0,r.hb)((()=>{t.removeEventListener("message",s,!1)}),[t,s]);(0,r.vJ)((()=>(t.addEventListener("message",s,!1),()=>{c()})),[t,c,s]);const l=(0,r.hb)((async(e,t)=>{let n;return new Promise(((o,r)=>{function a(){r(new R("Abort signal received","AbortSignalReceivedError"))}t?.aborted&&a(),n=n=>{n.type===e&&(t?.removeEventListener("abort",a),o(n))},i.add(n),t?.addEventListener("abort",a)})).finally((()=>{i.delete(n)}))}),[i]);return{destroy:c,waitForMessage:l}}({allowedOrigins:(0,r.Kr)((()=>[T,C,...e?[S]:[],...n?[n]:[]]),[e,n]),handler:a,source:t})}({includeCore:U,onClose:ge,onComplete:e=>{M||ge(),A?.(e)},onEmailChangeRequested:()=>{re({type:"restart"})},onError:e=>{const{message:t,code:n}=e;Wt.includes(n)?(te("shop_js_handle_silent_error",{attributes:{errorCode:n}}),Q("silent error",{code:n},"state")):ee(new Error(`Authorize Error: ${t} (${n}).`)),ne(),D?.(e)},onLoaded:e=>{fe("loaded"),Q("iframe loaded",{},"state"),"loginWithShop"===t&&re({payload:"phone"===(e?.authenticationLevelRequired||"phone")?"phoneAuth":"emailAuth",type:"setFlow"}),re({payload:e,type:"initialize"}),ce(!0),O?.(e),ne(),e.userFound&&void 0!==i&&!1!==i&&ue(!0)},onPopUpOpened:e=>{e.didOpen&&re({payload:e,type:"popup"})},onResizeIframe:({height:e})=>{ae.current&&(ae.current.style.height=`${e}px`)},onShopUserMatched:e=>{he("shopusermatched"),re({payload:e,type:"setUserMatched"}),Q("shop user matched",{},"state")},onShopUserNotMatched:({apiError:e})=>{he("shopusernotmatched",e&&{apiError:e}),re({payload:{matched:!1},type:"setUserMatched"}),Q("shop user not matched",{},"state")},source:ae,storefrontOrigin:K});return(0,r.vJ)((()=>()=>{ae.current&&ve()}),[ve]),(0,r.vJ)((()=>{if(le!==de)if(le){try{ye({type:"sheetmodalopened"}),he("modalopened")}catch(e){ee(new Error(`Error before calling onModalVisibleChange(true): ${e}`))}j?.(!0)}else ye({type:"sheetmodalclosed"}),he("modalclosed"),j?.(!1),L.querySelector("com-1password-notification")?.remove()}),[he,le,j,ye,de,ee]),(0,r.Yn)(H,(()=>({close:ge,loaded:se,open:me,postMessage:ye,reload:be,sessionDetected:ie.sessionDetected,source:ae.current?.contentWindow||null,visible:le,waitForMessage:xe})),[ge,me,se,le,ye,be,ie.sessionDetected,xe]),(0,r.vJ)((()=>{oe(),Q("Iframe url updated",{authorizeUrl:we},"state")}),[we,oe,Q]),(0,r.vJ)((()=>{le&&G({page:"AUTHORIZE_MODAL"})}),[le,G]),(0,r.vJ)((()=>{const e=ae.current?.parentNode;e&&ae.current&&(e.removeChild(ae.current),ae.current.setAttribute("src",we),e.appendChild(ae.current))}),[we]),(0,o.Y)(Jt,{anchorTo:n,onDismiss:ge,onModalInViewport:()=>{G({page:"AUTHORIZE_MODAL_IN_VIEWPORT",allowDuplicates:!0}),Q("modal in viewport",{},"state")},visible:le,children:(0,o.Y)("iframe",{allow:"publickey-credentials-get *",className:"relative z-40 m-auto w-full border-none",ref:e=>{e&&(ae.current=e)},tabIndex:0,"data-testid":"authorize-iframe"})})}));function Bt(e){return Object.prototype.hasOwnProperty.call(e,"current")}qt.displayName="AuthorizeIframe";const Kt=({children:e})=>{const[t,n]=(0,r.WO)(c,s),i=(0,r.Kr)((()=>({dispatch:n,state:t})),[t]);return(0,o.Y)(u.Provider,{value:i,children:e})};const $t={boolean:{stringify:e=>""===e?"true":e?/^[ty1-9]/i.test(e).toString():"false",parse:(e,t,n)=>""===e||(e?/^[ty1-9]/i.test(e):n.hasAttribute(t)&&null===e)},function:{stringify:e=>"function"==typeof e?e.name.replace("bound ",""):"string"==typeof e?e.replace("bound ",""):e,parse:(e,t,o)=>{if(!e)return null;const r="undefined"!=typeof window?window[e]:void 0!==n.g?n.g[e]:void 0;return"function"==typeof r?r.bind(o):void 0}},number:{stringify:e=>`${e}`,parse:e=>{if(e)return parseFloat(e)}},string:{stringify:e=>e,parse:e=>{if(e)return e}}};function Ht(e,{methods:t,name:n,props:o,shadow:r}){if("undefined"==typeof window)return;function i(){const t=Reflect.construct(HTMLElement,[],i);if(t._vdomComponent=e,t._root=r?t.attachShadow({mode:r}):t,r){const e=new CSSStyleSheet;e.replace(Vt),t._root.adoptedStyleSheets=[e]}return t}const s=new Map;Object.entries(o||{}).forEach((([e,t])=>{const n=e.replace(/([a-z0-9])([A-Z])/g,((e,t,n)=>`${t}-${n.toLowerCase()}`)).replace(/[\s_]+/g,"-");s.set(n,{attribute:n,preactProp:e,type:t})}));const c=Array.from(s.values()).map((({attribute:e})=>e));function l(e){this.getChildContext=()=>e.context;const{context:t,children:n,...o}=e;return(0,a.Ob)(n,o)}function u(e){return(0,a.h)("slot",{...e})}function d(e,t){if(3===e.nodeType)return e.data;if(1!==e.nodeType)return null;const n={},o=[],{childNodes:r}=e;s.forEach((({attribute:t,preactProp:o,type:r})=>{const i=$t[r],a=e.getAttribute(t);let s=a;("boolean"===r||a)&&(s=i.parse(a,t,e)),null!==s&&(n[t]=s,n[o]=s)}));for(const a of r){const e=d(a,null);o.push(e)}const i=t?(0,a.h)(u,null,o):o;return(0,a.h)(t,n,i)}return i.prototype=Object.create(HTMLElement.prototype),i.prototype.constructor=i,i.observedAttributes=c,i.prototype.attributeChangedCallback=function(e,t,n){if(!this._vdom)return;const o=s.get(e);if(!o)return;const{preactProp:r,type:i}=o,c=$t[i],l={};if(n||"boolean"!==i){if(i&&n){const t=c.parse(n,e,this);l[e]=t,l[r]=t}}else{const t=c.parse(n,e,this);l[e]=t,l[r]=t}this._vdom=(0,a.Ob)(this._vdom,l),(0,a.XX)(this._vdom,this._root)},i.prototype.connectedCallback=function(){const e=new CustomEvent("_preact",{detail:{},bubbles:!0,cancelable:!0});this.dispatchEvent(e);const t=e.detail.context;this._vdom=(0,a.h)(l,{...this._props,context:t,element:this},d(this,this._vdomComponent)),(0,a.XX)(this._vdom,this._root)},t?.forEach((e=>{i.prototype[e]=function(t){this.dispatchEvent(new CustomEvent(e,{detail:t}))}})),i.prototype.disconnectedCallback=function(){(0,a.XX)(this._vdom=null,this._root)},s.forEach((({attribute:e,type:t})=>{const n=$t[t];Object.defineProperty(i.prototype,e,{get(){return this._vdom.props[e]},set(o){let r=o;this._vdom?this.attributeChangedCallback(e,null,o):(("boolean"===t||o)&&(r=n.parse(o,e,this)),this._props||(this._props={}),this._props[e]=r,this.connectedCallback()),this.setAttribute(e,n.stringify(r))}})})),customElements.define(n,i)}function Xt(e){const{analyticsTraceId:t,checkoutToken:n,checkoutVersion:o,shopPermanentDomain:r}=e;return{analyticsTraceId:t,checkoutVersion:o,checkoutToken:n,flow:"checkout_modal",shopPermanentDomain:r}}const Zt=({email:e,checkoutRedirectUrl:t,...n})=>{const i=(0,r.li)(null);!function({autoOpen:e,debounce:t,email:n,emailInputSelector:o,hideChange:i,iframeRef:a}){const{leaveBreadcrumb:s,notify:c}=p(),{trackUserAction:l}=w(),{isFilledWithPasswordManager:u}=function({emailInputSelector:e}){const[t,n]=(0,r.J0)(),[o,i]=(0,r.J0)();return(0,r.vJ)((()=>{function t(e){"password"===this.type?i(e.timeStamp):n(e.timeStamp)}if(e){const n=L.querySelector(e);if(n){n.addEventListener("input",t);const e=n.form?.querySelector('input[type="password"]');return e&&e instanceof HTMLInputElement&&e.addEventListener("input",t),()=>{n.removeEventListener("input",t),e&&e.removeEventListener("input",t)}}}}),[e]),{isFilledWithPasswordManager:(0,r.Kr)((()=>void 0!==t&&void 0!==o&&Math.abs(t-o)<100),[t,o])}}({emailInputSelector:o}),d=(0,r.li)(null),[h,f]=(0,r.J0)(null),m=(0,r.Kr)((()=>new Set),[]),g=(0,r.hb)((async({email:t,firstName:n="",lastName:o=""},r=!0)=>{if(!a.current||a.current.visible&&r)return;const l=D(t)?t:"";d.current&&!d.current?.signal.aborted&&d.current.abort(),d.current=new AbortController;try{const{loaded:t,open:r,postMessage:c,sessionDetected:u,waitForMessage:p}=a.current;if(t||await p("loaded",d.current.signal),!t&&u&&e)return;c({firstName:n,lastName:o,type:"namesubmitted"}),c({email:l,hideChange:void 0===i?l.length>0:i,type:"emailsubmitted"}),s("email submitted",{email:l?"redacted":""},"state");const f=p("shop_user_matched",d.current.signal),m=new Promise(((e,t)=>{const n=async()=>{try{const t=await p("error",d.current.signal);"error"===t.type&&"captcha_challenge"===t.code?e(void 0):n()}catch(o){t(o)}};n()}));await Promise.race([f,m]),r(),h?.blur(),d.current.abort()}catch(u){if(u instanceof R&&"AbortSignalReceivedError"===u.name)return;u instanceof Error&&c(new Error(`Error updating user info: ${u.name} - ${u.message}`))}}),[e,h,i,a,s,c]),y=(0,r.hb)(((e="",t)=>{const n=D(e);u&&!m.has("PASSWORD_MANAGER_AUTOFILL_DETECTED")&&(m.add("PASSWORD_MANAGER_AUTOFILL_DETECTED"),l({userAction:"PASSWORD_MANAGER_AUTOFILL_DETECTED"})),n&&!m.has("EMAIL_ENTERED")&&(m.add("EMAIL_ENTERED"),l({userAction:"EMAIL_ENTERED"}),s("email entered",{},"state")),g({email:e},t)}),[u,s,l,m,g]);(0,r.vJ)((()=>{if(o){const e=L.querySelector(o);f(e)}}),[o]);const b=at((e=>{y(e)}),200);(0,r.vJ)((()=>{if(!h)return;const e=()=>{h&&b(h.value)};return h.value&&y(h.value),h.addEventListener("input",e),()=>{h?.removeEventListener("input",e)}}),[b,y,h]),(0,r.vJ)((()=>{void 0!==n&&(t?b(n):y(n,!1))}),[n,b,t,y])}({email:e,iframeRef:i,debounce:!0});const{trackUserAction:a}=w(),{leaveBreadcrumb:s}=p();!function(e){const{element:t}=M();(0,r.vJ)((()=>{if(t)return Object.entries(e).forEach((([e,n])=>{t.addEventListener(e,n)})),()=>{Object.entries(e).forEach((([e,n])=>{t?.removeEventListener(e,n)}))}}),[t,e])}((0,r.Kr)((()=>({open:async()=>{i.current?.visible||(i.current?.open(),a({userAction:"OPEN_CALLED"}),s("open called",{},"state"))}})),[a,s]));const{trackShopPayModalStateChange:c}=function(){const{analyticsData:e,produceMonorailEvent:t}=w();return{trackShopPayModalStateChange:(0,r.hb)((({currentState:n})=>{const{analyticsTraceId:o,checkoutToken:r,checkoutVersion:i,shopPermanentDomain:a}=e,s={previousState:"",currentState:n,clientTimestampMs:(new Date).getTime(),analyticsTraceId:o,checkoutToken:r||"",checkoutVersion:i||"",shopifyDomain:a||""};t({event:{payload:s,schemaId:"shopify_pay_modal_state_change/1.3"}})}),[e,t])}}(),l=(0,r.hb)((()=>{c({currentState:"loaded"})}),[c]),u=(0,r.hb)((e=>{c({currentState:e?"shown":"hidden"})}),[c]);return(0,o.Y)(qt,{...n,clientId:"",checkoutRedirectUrl:t,analyticsContext:"loginWithShopCheckoutModal",avoidSdkSession:!0,disableSignUp:!0,flow:"default",keepModalOpen:!0,onLoaded:l,onModalVisibleChange:u,proxy:!0,redirectType:"iframe",ref:i,responseType:"code"})},Gt=()=>Ht((({element:e,...t})=>(0,o.Y)(Ft,{element:e,monorailProps:Xt(t),featureName:"ShopCheckoutModal",children:(0,o.Y)(Kt,{children:(0,o.Y)(Zt,{...t})})})),{methods:["open"],name:"shop-checkout-modal",props:{anchorTo:"string",checkoutRedirectUrl:"string",checkoutToken:"string",checkoutVersion:"string",email:"string",shopPermanentDomain:"string",transactionParams:"string"},shadow:"open"})}}]);