<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Dashboard</title>
    <!-- Bootstrap CSS -->
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body {
            background-color: #f8f9fa; /* Light grey background */
            font-size: 0.5rem; /* Reduce the base font size to half */
        }
        .sidebar {
            height: 100vh;
            background-color: #007bff; /* Bootstrap blue */
            color: white;
            padding-top: 20px;
            font-size: 1rem; /* Maintain sidebar font size readability */
        }
        .sidebar a {
            color: white;
            text-decoration: none;
        }
        .sidebar a:hover {
            color: #d1e7fd; /* Light blue */
        }
        .card {
            margin: 10px 0;
            height: 100px;
        }
        .card-title {
            font-size: 0.75rem; /* Reduce card title font size */
        }
        .card-text {
            font-size: 1.5rem; /* Reduce card text font size */
        }
        h1, h2 {
            font-size: 1rem; /* Reduce heading sizes */
        }
        @media (max-width: 768px) {
            .sidebar {
                display: none;
            }
        }
    </style>
</head>
<body>
    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-primary d-md-none">
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav">
                <li class="nav-item">
                    <a class="nav-link" href="allorders.html">All Orders</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#">Pending</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#">Completed</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#">Confirmed</a>
                </li>
            </ul>
        </div>
    </nav>

    <div class="container-fluid">
        <div class="row">
            <!-- Sidebar for larger screens -->
            <nav class="col-md-2 d-none d-md-block sidebar">
                <div class="sidebar-sticky">
                    <ul class="nav flex-column">
                        <li class="nav-item">
                            <a class="nav-link active" href="#">
                                All Orders
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#">
                                Pending
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#">
                                Completed
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#">
                                Confirmed
                            </a>
                        </li>
                    </ul>
                </div>
            </nav>

            <style>
                .containerr {
                display: flex;
                justify-content: space-between; /* Evenly space the boxes */
                padding: 10px; /* Add padding around the container */
                height: 100px;
              }
              
              .box {
                background-color: #f0f0f0;
                width: 30%; /* Adjust width to take up 30% of the row */
                padding: 5px;
                text-align: center;
                
                border: 1px solid #ccc;
                border-radius: 5px;
              }
              .box2 {
                background-color: #f0f0f0;
                padding: 5px;
                text-align: center;
                height: 130px;
                border: 1px solid #ccc; /* Border for visibility */
                margin-bottom: 5px;
                border: 1px solid #ccc;
                border-radius: 5px;
              }
              
              
              </style>
            <!-- Main Dashboard -->
            <main role="main" class="col-md-9 ml-sm-auto col-lg-10 px-md-4">
                <div class="container my-4">
                    <div class="col-12">
                        <div class="alert alert-info p-4 my-3">
                            <h5 class="mb-3">Order Confirmation</h5>
                            <p>
                              This package was ordered by <strong id="name" class="text-primary"></strong> with the email 
                              <strong id="email" class="text-secondary"></strong> on 
                              <strong id="date" class="text-success"></strong>.
                            </p>
                            <p class="mb-0">
                              Please check your bank app before confirming payment.
                            </p>
                          </div>
                        <!-- Box content -->
                        <div class="row" id="containerrr">
                  
                        </div>
                        <div style="display: flex;align-items: center; justify-content: center;">
                        <button type="submit" class="btn btn-md btn-success me-2" id="updateBtn">
                            Confirm 
                        </button>
                    </div>
                      </div>


                  </div>
                  
            </main>
        </div>
    </div>

    <!-- Bootstrap JS and dependencies -->
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.3/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
</body>
<script>

let currentColor;
async function fetchUserInfo() {
var parsedData = localStorage.getItem('userId')


const response = await $.ajax({
  type: "GET",
  url: `https://rose-heroku-dc607cde99d9.herokuapp.com/users/package/${parsedData}`,
  dataType: "json",
  timeout: 30000,
  success: async function (data) {
    console.log("data", data);
    Object.assign(currentUser, data.data)
  },
  error: function () {
    alert(error)
  }
 
});

return response.data;
}



    function hail(artworkJson) {
      const artwork = decodeURIComponent(artworkJson);
      localStorage.setItem("pricing", artwork)
      location.href = "./products/product.html"
    }
    function hail2(collectionJson) {
      const artwork = decodeURIComponent(collectionJson);
      localStorage.setItem("pricing", artwork)
      location.href = "buy.html"
    }
  
  let counter=0;
  let allItemsCounter=0;
    $(document).ready(async function () {
  
      // Assuming fetchUserInfo() is a defined function that fetches user information
      // const userLis =localStorage.getItem("users")
      const orderInfo = await fetchUserInfo();
$("#name").text(orderInfo.firstName + " "+ orderInfo.lastName)
$("#email").text(orderInfo.email)
$("#date").text(orderInfo.item[0].timestamp)
  localStorage.setItem("orderStatus",orderInfo.status)
    
        console.log("all users artworks can be seen below" + orderInfo.item);
        orderInfo.item.forEach(itm => {
          counter++;
          if (itm) {
            const artworkJson = encodeURIComponent(JSON.stringify(itm));
            const smart = itm

  const parseImgUrlArray=JSON.parse(itm.imgUrl)
  const imgUrl=parseImgUrlArray[0]
  const status=localStorage.getItem("orderStatus")
            const artworkHtml = `
          
          <a class="col-6 col-lg-3" onclick='hail("${artworkJson}")'>
            <div class="box2">
               <img src="${imgUrl}" alt="Product" class="img-responsive" style="width:100%; height:100%;" />
              
              </div>
              <div class="info mb-2" id="info" >
              <div style="color:#7b3700">Title:${itm.title}</div>
              <div>Size:${itm.size}</div>
              
              <div>Price:â‚¦${itm.price}</div>
              <div>Satus:${status}
              </div>
              
          </div>
         
     
               `;
            $('#containerrr').append(artworkHtml);
          }
        }
        )
  
  
      });
    
  
    ;
  
  </script>
  
  
    
</html>
